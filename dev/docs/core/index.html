---
layout: page
pretitle: Development Centre
title: "Core Library Reference"
---
<div class="container">
  <div class="row">
    <div class="col-md-3" id="sidenav">
      <nav class="docs-sidebar" data-spy="affix" data-offset-top="275">
        <ul class="nav nav-stacked fixed">
          <li><a href="#module-arkos.applications">arkos.applications</a></li>
          <li><a href="#module-arkos.backup">arkos.backup</a></li>
          <li><a href="#module-arkos.certificates">arkos.certificates</a></li>
          <li><a href="#module-arkos.config">arkos.config</a></li>
          <li><a href="#module-arkos.connections">arkos.connections</a></li>
          <li><a href="#module-arkos.databases">arkos.databases</a></li>
          <li><a href="#module-arkos.languages.nodejs">arkos.languages.nodejs</a></li>
          <li><a href="#module-arkos.languages.php">arkos.languages.php</a></li>
          <li><a href="#module-arkos.languages.python">arkos.languages.python</a></li>
          <li><a href="#module-arkos.languages.ruby">arkos.languages.ruby</a></li>
          <li><a href="#module-arkos.security">arkos.security</a></li>
          <li><a href="#module-arkos.shared_files">arkos.shared_files</a></li>
          <li><a href="#module-arkos.signals">arkos.signals</a></li>
          <li><a href="#module-arkos.storage">arkos.storage</a></li>
          <li><a href="#module-arkos.system.domains">arkos.system.domains</a></li>
          <li><a href="#arkos-system-filesystems">arkos.system.filesystems</a></li>
          <li><a href="#module-arkos.system.groups">arkos.system.groups</a></li>
          <li><a href="#module-arkos.system.network">arkos.system.network</a></li>
          <li><a href="#module-arkos.system.services">arkos.system.services</a></li>
          <li><a href="#module-arkos.system.stats">arkos.system.stats</a></li>
          <li><a href="#module-arkos.system.sysconfig">arkos.system.sysconfig</a></li>
          <li><a href="#module-arkos.system.systemtime">arkos.system.systemtime</a></li>
          <li><a href="#module-arkos.system.users">arkos.system.users</a></li>
          <li><a href="#module-arkos.tracked_services">arkos.tracked_services</a></li>
          <li><a href="#module-arkos.updates">arkos.updates</a></li>
          <li><a href="#arkos-utilities">arkos.utilities</a></li>
          <li><a href="#module-arkos.websites">arkos.websites</a></li>
        </ul>
        <a href="#top" class="back-to-top">Back to Top</a>
      </nav>
    </div>
    <div id="content" class="col-md-9">
      <div class="section" id="module-arkos">
        <div class="section" id="module-arkos.applications">
        <span id="arkos-applications"></span><h2>arkos.applications</h2>
        <p>Classes and functions for management of arkOS applications.</p>
        <dl class="class">
        <dt id="arkos.applications.App">
        <em class="property">class </em><code class="descclassname">arkos.applications.</code><code class="descname">App</code><span class="sig-paren">(</span><em>**entries</em><span class="sig-paren">)</span></dt>
        <dd><p>Class representing an arkOS Application.</p>
        <dl class="attribute">
        <dt id="arkos.applications.App.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return app metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.applications.App.get_module">
        <code class="descname">get_module</code><span class="sig-paren">(</span><em>mod_type</em><span class="sig-paren">)</span></dt>
        <dd><p>Helper function to get linked auxillary modules.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mod_type</strong> &#8211; Type of module to return (<code class="docutils literal"><span class="pre">backup</span></code>, <code class="docutils literal"><span class="pre">ssl</span></code>, etc)</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Auxillary module (Backup, SSL, etc)</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">module</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.applications.App.get_ssl_able">
        <code class="descname">get_ssl_able</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Return list of application services that can support TLS.</p>
        <p>Example dict format:</p>
        <blockquote>
        <div><dl class="docutils">
        <dt>{&#8220;type&#8221;: &#8220;app&#8221;, &#8220;id&#8221;: &#8220;xmpp_example.com&#8221;, &#8220;aid&#8221;: &#8220;xmpp&#8221;,</dt>
        <dd>&#8220;sid&#8221;: domain, &#8220;name&#8221;: &#8220;Chat Server (example.com)&#8221;}</dd>
        </dl>
        </div></blockquote>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of TLS support dicts</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.applications.App.install">
        <code class="descname">install</code><span class="sig-paren">(</span><em>install_deps=True</em>, <em>load=True</em>, <em>force=False</em>, <em>message=&lt;arkos.utilities.logs.DefaultMessage object&gt;</em><span class="sig-paren">)</span></dt>
        <dd><p>Install the arkOS application to the system.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>install_deps</strong> (<em>bool</em>) &#8211; Install the app&#8217;s dependencies too?</li>
        <li><strong>load</strong> (<em>bool</em>) &#8211; Load the app after install?</li>
        <li><strong>force</strong> (<em>bool</em>) &#8211; Force reinstall if app is already installed?</li>
        <li><strong>message</strong> (<em>message</em>) &#8211; Message object to update with status</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.applications.App.load">
        <code class="descname">load</code><span class="sig-paren">(</span><em>verify=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Load an application and associated metadata into the running process.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>verify</strong> (<em>bool</em>) &#8211; Verify System/Python/OS dependencies</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.applications.App.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable app metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.applications.App.ssl_disable">
        <code class="descname">ssl_disable</code><span class="sig-paren">(</span><em>sid=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Disable TLS on the selected application and service.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sid</strong> (<em>str</em>) &#8211; ID for the associated app&#8217;s service to disable TLS on.</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.applications.App.ssl_enable">
        <code class="descname">ssl_enable</code><span class="sig-paren">(</span><em>cert</em>, <em>sid=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Enable TLS on the selected application and service.</p>
        <p>The accompanying service ID is forwarded to the app-specific code to
        act as an identifier for which internal service is being specified.
        Ex. the XMPP plugin uses the domain name (xmpp.example.com) as <code class="docutils literal"><span class="pre">sid</span></code>.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>cert</strong> (<a href="#arkos.certificates.Certificate" title="arkos.certificates.Certificate"><em>Certificate</em></a>) &#8211; Certificate object to enable TLS with.</li>
        <li><strong>sid</strong> (<em>str</em>) &#8211; ID for the associated app&#8217;s service to enable TLS on.</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.applications.App.uninstall">
        <code class="descname">uninstall</code><span class="sig-paren">(</span><em>force=False</em>, <em>message=&lt;arkos.utilities.logs.DefaultMessage object&gt;</em><span class="sig-paren">)</span></dt>
        <dd><p>Uninstall the arkOS application from the system.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>force</strong> (<em>bool</em>) &#8211; Uninstall the app even if others depend on it?</li>
        <li><strong>message</strong> (<em>message</em>) &#8211; Message object to update with status</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.applications.App.verify_dependencies">
        <code class="descname">verify_dependencies</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Verify that the associated dependencies are all properly installed.</p>
        <p>Checks system-level packages, Python packages and arkOS Apps for
        installed status. Sets <code class="docutils literal"><span class="pre">self.loadable</span></code> with verify status and
        <code class="docutils literal"><span class="pre">self.error</span></code> with error message encountered on check.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if all verify checks passed</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.applications.get">
        <code class="descclassname">arkos.applications.</code><code class="descname">get</code><span class="sig-paren">(</span><em>id=None</em>, <em>type=None</em>, <em>loadable=None</em>, <em>installed=None</em>, <em>verify=True</em>, <em>force=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Retrieve arkOS application data from the system.</p>
        <p>If the cache is up and populated, applications are loaded from
        metadata stored there. If not (or <code class="docutils literal"><span class="pre">force</span></code> is set), the app directory is
        searched, modules are loaded and verified. This is used on first boot.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; If present, obtain one app that matches this ID</li>
        <li><strong>type</strong> (<em>str</em>) &#8211; Filter by <code class="docutils literal"><span class="pre">app</span></code>, <code class="docutils literal"><span class="pre">website</span></code>, <code class="docutils literal"><span class="pre">database</span></code>, etc</li>
        <li><strong>loadable</strong> (<em>bool</em>) &#8211; Filter by loadable (True) or not loadable (False)</li>
        <li><strong>installed</strong> (<em>bool</em>) &#8211; Filter by installed (True) or uninstalled (False)</li>
        <li><strong>verify</strong> (<em>bool</em>) &#8211; Verify app dependencies as the apps are scanned</li>
        <li><strong>force</strong> (<em>bool</em>) &#8211; Force a rescan (do not rely on cache)</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Application(s)</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Application or list thereof</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.applications.get_dependent">
        <code class="descclassname">arkos.applications.</code><code class="descname">get_dependent</code><span class="sig-paren">(</span><em>id</em>, <em>op</em><span class="sig-paren">)</span></dt>
        <dd><p>Return list of all apps to install or remove based on specified operation.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; ID for arkOS app to check</li>
        <li><strong>op</strong> (<em>str</em>) &#8211; <code class="docutils literal"><span class="pre">install</span></code> or <code class="docutils literal"><span class="pre">remove</span></code></li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of arkOS app IDs</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.applications.scan">
        <code class="descclassname">arkos.applications.</code><code class="descname">scan</code><span class="sig-paren">(</span><em>verify=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Search app directory for applications, load them and store metadata.</p>
        <p>Also contacts arkOS repo servers to obtain current list of available
        apps, and merges in any updates as necessary.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>verify</strong> (<em>bool</em>) &#8211; Verify app dependencies as the apps are scanned</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of Application objects</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.applications.verify_app_dependencies">
        <code class="descclassname">arkos.applications.</code><code class="descname">verify_app_dependencies</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Verify that any dependent arkOS apps are properly installed/verified.</p>
        <p>Assigns <code class="docutils literal"><span class="pre">loadable</span></code> and <code class="docutils literal"><span class="pre">error</span></code> properties to all apps in the cache.</p>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.backup">
        <span id="arkos-backup"></span><h2>arkos.backup</h2>
        <p>Classes and functions for management of arkOS app backups.</p>
        <dl class="class">
        <dt id="arkos.backup.BackupController">
        <em class="property">class </em><code class="descclassname">arkos.backup.</code><code class="descname">BackupController</code><span class="sig-paren">(</span><em>id</em>, <em>icon</em>, <em>site=None</em>, <em>version=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Controller for managing an application&#8217;s backup functions.</p>
        <p>A BackupController is intended to be included by each app through creating
        a <code class="docutils literal"><span class="pre">backup.py</span></code> module bundled in the app package. This module creates a
        class that subclasses this one and provides app-specific code for obtaining
        config and data file paths, as well as hooks for pre- and post-backup and
        restore actions.</p>
        <p>See <code class="docutils literal"><span class="pre">backup.get()</span></code> for definition of <code class="docutils literal"><span class="pre">Backup</span></code> dict.</p>
        <dl class="method">
        <dt id="arkos.backup.BackupController.backup">
        <code class="descname">backup</code><span class="sig-paren">(</span><em>data=True</em>, <em>backup_location=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Initiate a backup of the associated arkOS app.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>data</strong> (<em>bool</em>) &#8211; Include specified data files in the backup?</li>
        <li><strong>backup_location</strong> (<em>str</em>) &#8211; Save output archive to custom path</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">Backup</span></code></p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.backup.BackupController.get_config">
        <code class="descname">get_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Return configuration file paths to include in backups.</p>
        <p>Apps that subclass this object must override this.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Configuration file paths</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.backup.BackupController.get_data">
        <code class="descname">get_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Return data file paths to include in backups.</p>
        <p>Apps that subclass this object must override this.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Data file paths</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.backup.BackupController.post_backup">
        <code class="descname">post_backup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Hook executed after backup. Override in backup module code.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.backup.BackupController.post_restore">
        <code class="descname">post_restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Hook executed after restore. Override in backup module code.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.backup.BackupController.pre_backup">
        <code class="descname">pre_backup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Hook executed before backup. Override in backup module code.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.backup.BackupController.pre_restore">
        <code class="descname">pre_restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Hook executed before restore. Override in backup module code.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.backup.BackupController.restore">
        <code class="descname">restore</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span></dt>
        <dd><p>Restore an associated arkOS app backup.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>Backup</em>) &#8211; backup to restore</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">Backup</span></code></td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </dd></dl>

        <dl class="class">
        <dt id="arkos.backup.arkOSBackupCfg">
        <em class="property">class </em><code class="descclassname">arkos.backup.</code><code class="descname">arkOSBackupCfg</code><span class="sig-paren">(</span><em>id</em>, <em>icon</em>, <em>site=None</em>, <em>version=None</em><span class="sig-paren">)</span></dt>
        <dd><p>BackupController implementation for arkOS core configuration.</p>
        <dl class="method">
        <dt id="arkos.backup.arkOSBackupCfg.get_config">
        <code class="descname">get_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Reimplement.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.backup.arkOSBackupCfg.get_data">
        <code class="descname">get_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Reimplement.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.backup.arkOSBackupCfg.post_backup">
        <code class="descname">post_backup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Reimplement.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.backup.arkOSBackupCfg.post_restore">
        <code class="descname">post_restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Reimplement.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.backup.arkOSBackupCfg.pre_backup">
        <code class="descname">pre_backup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Reimplement.</p>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.backup.create">
        <code class="descclassname">arkos.backup.</code><code class="descname">create</code><span class="sig-paren">(</span><em>id</em>, <em>data=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Convenience function to create a backup.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; ID of associated app (or website) to backup</li>
        <li><strong>data</strong> (<em>bool</em>) &#8211; Backup app data also?</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Backup info</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Backup</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.backup.get">
        <code class="descclassname">arkos.backup.</code><code class="descname">get</code><span class="sig-paren">(</span><em>backup_location=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Return a list of backup dicts from the backup directory.</p>
        <p><code class="docutils literal"><span class="pre">Backup</span></code> dicts are in the following format (example):</p>
        <blockquote>
        <div><dl class="docutils">
        <dt>{</dt>
        <dd>&#8220;icon&#8221;: &#8220;fa fa-globe&#8221;,
        &#8220;id&#8221;: &#8220;testghost/20150317124530&#8221;,
        &#8220;is_ready&#8221;: true,
        &#8220;path&#8221;: &#8220;/var/lib/arkos/backups/testghost/testghost-xxx.tar.gz&#8221;,
        &#8220;pid&#8221;: &#8220;testghost&#8221;,
        &#8220;site_type&#8221;: &#8220;ghost&#8221;,
        &#8220;size&#8221;: 14612219,
        &#8220;time&#8221;: &#8220;2015-03-17T12:45:30-04:00&#8221;,
        &#8220;type&#8221;: &#8220;site&#8221;,
        &#8220;version&#8221;: &#8220;0.5.10-1&#8221;</dd>
        </dl>
        <p>}</p>
        </div></blockquote>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>backup_location</strong> (<em>str</em>) &#8211; Location to scan (instead of arkOS default)</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">backups found</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Backup</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.backup.get_able">
        <code class="descclassname">arkos.backup.</code><code class="descname">get_able</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Obtain a list of arkOS application instances that support backups.</p>
        <p>This list includes all currently installed websites, apps and also arkOS.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Website/app information</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.backup.remove">
        <code class="descclassname">arkos.backup.</code><code class="descname">remove</code><span class="sig-paren">(</span><em>id</em>, <em>time</em>, <em>backup_location=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Remove a backup.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; arkOS app/site ID</li>
        <li><strong>time</strong> (<em>str</em>) &#8211; Backup timestamp</li>
        <li><strong>backup_location</strong> (<em>str</em>) &#8211; Location (instead of arkOS default)</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.backup.restore">
        <code class="descclassname">arkos.backup.</code><code class="descname">restore</code><span class="sig-paren">(</span><em>backup</em>, <em>data=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Convenience function to restore a backup.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>backup</strong> (<em>Backup</em>) &#8211; Backup to restore</li>
        <li><strong>data</strong> (<em>bool</em>) &#8211; Restore included data files as well?</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Backup info</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Backup</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.backup.site_load">
        <code class="descclassname">arkos.backup.</code><code class="descname">site_load</code><span class="sig-paren">(</span><em>site</em><span class="sig-paren">)</span></dt>
        <dd><p>Create a BackupController when a Website is first created/loaded.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>site</strong> (<em>Website</em>) &#8211; Site to create controller for</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.certificates">
        <span id="arkos-certificates"></span><h2>arkos.certificates</h2>
        <p>Classes and functions for management of TLS certificates in arkOS.</p>
        <dl class="class">
        <dt id="arkos.certificates.Certificate">
        <em class="property">class </em><code class="descclassname">arkos.certificates.</code><code class="descname">Certificate</code><span class="sig-paren">(</span><em>id=''</em>, <em>domain=''</em>, <em>cert_path=''</em>, <em>key_path=''</em>, <em>keytype=''</em>, <em>keylength=0</em>, <em>assigns=[]</em>, <em>expiry=None</em>, <em>sha1=''</em>, <em>md5=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Represents a TLS certificate managed by arkOS.</p>
        <p>Certificates can be generated (self-signed), generated from Let&#8217;s Encrypt
        CA, or installed from external sources. When certificates are self-signed,
        they are accompanied by generated certificate authorities allowing client
        trust for the root domain in question.</p>
        <p><code class="docutils literal"><span class="pre">Assign</span></code> objects that are sent to/from this class look like this:</p>
        <dl class="docutils">
        <dt>Websites:</dt>
        <dd>{&#8220;type&#8221;: &#8220;website&#8221;, &#8220;id&#8221;: &#8220;mysite&#8221;, &#8220;name&#8221;: &#8220;mysite&#8221;}</dd>
        <dt>Apps:</dt>
        <dd><dl class="first last docutils">
        <dt>{&#8220;type&#8221;: &#8220;app&#8221;, &#8220;id&#8221;: &#8220;xmpp_example.com&#8221;, &#8220;aid&#8221;: &#8220;xmpp&#8221;,</dt>
        <dd>&#8220;sid&#8221;: &#8220;example.com&#8221;, &#8220;name&#8221;: &#8220;Chat Server (example.com)&#8221;}</dd>
        </dl>
        </dd>
        </dl>
        <dl class="attribute">
        <dt id="arkos.certificates.Certificate.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return certificate metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.certificates.Certificate.assign">
        <code class="descname">assign</code><span class="sig-paren">(</span><em>assign</em><span class="sig-paren">)</span></dt>
        <dd><p>Assign a TLS certificate to a website or service.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>assign</strong> (<em>dict</em>) &#8211; <code class="docutils literal"><span class="pre">Assign</span></code> object to assign</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">self</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.certificates.Certificate.remove">
        <code class="descname">remove</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Remove a certificate from disk.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.certificates.Certificate.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable certificate metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.certificates.Certificate.unassign">
        <code class="descname">unassign</code><span class="sig-paren">(</span><em>assign</em><span class="sig-paren">)</span></dt>
        <dd><p>Unassign a TLS certificate from a website or service.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>assign</strong> (<em>dict</em>) &#8211; <code class="docutils literal"><span class="pre">Assign</span></code> object to unassign</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">self</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </dd></dl>

        <dl class="class">
        <dt id="arkos.certificates.CertificateAuthority">
        <em class="property">class </em><code class="descclassname">arkos.certificates.</code><code class="descname">CertificateAuthority</code><span class="sig-paren">(</span><em>id=''</em>, <em>cert_path=''</em>, <em>key_path=''</em>, <em>expiry=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Represents a TLS certificate authority managed by arkOS.</p>
        <p>Certificate authorities are created for self-signed certificates
        generated in arkOS, allowing client trust for the root domain in question.</p>
        <dl class="attribute">
        <dt id="arkos.certificates.CertificateAuthority.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return certificate metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.certificates.CertificateAuthority.remove">
        <code class="descname">remove</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Remove a certificate from disk.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.certificates.CertificateAuthority.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable certificate metadata as dict.</p>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.certificates.generate_authority">
        <code class="descclassname">arkos.certificates.</code><code class="descname">generate_authority</code><span class="sig-paren">(</span><em>domain</em><span class="sig-paren">)</span></dt>
        <dd><p>Generate and save a new certificate authority for signing.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>domain</strong> (<em>str</em>) &#8211; Domain name to use for certificate authority</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Certificate authority</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a href="#arkos.certificates.CertificateAuthority" title="arkos.certificates.CertificateAuthority">CertificateAuthority</a></td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.certificates.generate_certificate">
        <code class="descclassname">arkos.certificates.</code><code class="descname">generate_certificate</code><span class="sig-paren">(</span><em>id</em>, <em>domain</em>, <em>country</em>, <em>state=''</em>, <em>locale=''</em>, <em>email=''</em>, <em>keytype='RSA'</em>, <em>keylength=2048</em>, <em>message=&lt;arkos.utilities.logs.DefaultMessage object&gt;</em><span class="sig-paren">)</span></dt>
        <dd><p>Generate and save a new self-signed certificate.</p>
        <p>If this domain has no prior self-signed certificates, a new
        CertificateAuthority is also generated to sign this certificate.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; Name to assign certificate</li>
        <li><strong>domain</strong> (<em>str</em>) &#8211; Domain name to associate with (subject CN)</li>
        <li><strong>country</strong> (<em>str</em>) &#8211; Two-letter country code (e.g. &#8216;US&#8217; or &#8216;CA&#8217;)</li>
        <li><strong>state</strong> (<em>str</em>) &#8211; State or province</li>
        <li><strong>locale</strong> (<em>str</em>) &#8211; City, town or locale</li>
        <li><strong>email</strong> (<em>str</em>) &#8211; Contact email for user</li>
        <li><strong>keytype</strong> (<em>str</em>) &#8211; Key type. One of &#8220;RSA&#8221; or &#8220;DSA&#8221;</li>
        <li><strong>keylength</strong> (<em>int</em>) &#8211; Key length. 2048, 4096, etc.</li>
        <li><strong>message</strong> (<em>message</em>) &#8211; Message object to update with status</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Certificate that was generated</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a href="#arkos.certificates.Certificate" title="arkos.certificates.Certificate">Certificate</a></p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.certificates.get">
        <code class="descclassname">arkos.certificates.</code><code class="descname">get</code><span class="sig-paren">(</span><em>id=None</em>, <em>force=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Retrieve arkOS certificate data from the system.</p>
        <p>If the cache is up and populated, certificates are loaded from
        metadata stored there. If not (or <code class="docutils literal"><span class="pre">force</span></code> is set), the certificate
        directory is searched, certificates are loaded and verified.
        This is used on first boot.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; If present, obtain one certificate that matches this ID</li>
        <li><strong>force</strong> (<em>bool</em>) &#8211; Force a rescan (do not rely on cache)</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Certificate(s)</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Certificate or list thereof</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.certificates.get_authorities">
        <code class="descclassname">arkos.certificates.</code><code class="descname">get_authorities</code><span class="sig-paren">(</span><em>id=None</em>, <em>force=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Retrieve arkOS certificate authority data from the system.</p>
        <p>If the cache is up and populated, certificates are loaded from
        metadata stored there. If not (or <code class="docutils literal"><span class="pre">force</span></code> is set), the certificate
        directory is searched, certificates are loaded and verified.
        This is used on first boot.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; If present, obtain one certificate that matches this ID</li>
        <li><strong>force</strong> (<em>bool</em>) &#8211; Force a rescan (do not rely on cache)</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">CertificateAuthority(s)</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">CertificateAuthority or list thereof</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.certificates.get_cert_hashes">
        <code class="descclassname">arkos.certificates.</code><code class="descname">get_cert_hashes</code><span class="sig-paren">(</span><em>cert</em><span class="sig-paren">)</span></dt>
        <dd><p>Obtain validation hashes for the provided certificate.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cert</strong> (<a href="#arkos.certificates.Certificate" title="arkos.certificates.Certificate"><em>Certificate</em></a>) &#8211; Certificate to hash</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">SHA-1 and md5 hashes of certificate</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.certificates.get_key_type">
        <code class="descclassname">arkos.certificates.</code><code class="descname">get_key_type</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span></dt>
        <dd><p>Return the key type of a provided key.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> &#8211; pyOpenSSL private key object</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Either &#8220;RSA&#8221;, &#8220;DSA&#8221; or &#8220;Unknown&#8221;</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.certificates.scan">
        <code class="descclassname">arkos.certificates.</code><code class="descname">scan</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Search proper directory for certificates, load them and store metadata.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of Certificate objects</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.certificates.scan_authorities">
        <code class="descclassname">arkos.certificates.</code><code class="descname">scan_authorities</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Search proper directory for certificates, load them and store metadata.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of CertificateAuthority objects</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.certificates.upload_certificate">
        <code class="descclassname">arkos.certificates.</code><code class="descname">upload_certificate</code><span class="sig-paren">(</span><em>id</em>, <em>cert</em>, <em>key</em>, <em>chain=''</em>, <em>message=&lt;arkos.utilities.logs.DefaultMessage object&gt;</em><span class="sig-paren">)</span></dt>
        <dd><p>Create and save a new certificate from an external file.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; Name to assign certificate</li>
        <li><strong>cert</strong> (<em>str</em>) &#8211; Certificate as string (PEM format)</li>
        <li><strong>key</strong> (<em>str</em>) &#8211; Key as string (PEM format)</li>
        <li><strong>chain</strong> (<em>str</em>) &#8211; Chain as string (PEM format)</li>
        <li><strong>message</strong> (<em>message</em>) &#8211; Message object to update with status</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Certificate that was imported</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a href="#arkos.certificates.Certificate" title="arkos.certificates.Certificate">Certificate</a></p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.config">
        <span id="arkos-config"></span><h2>arkos.config</h2>
        <p>Classes and functions for management of arkOS configuration files.</p>
        <dl class="class">
        <dt id="arkos.config.Config">
        <em class="property">class </em><code class="descclassname">arkos.config.</code><code class="descname">Config</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span></dt>
        <dd><p>A class for managing arkOS configuration files.</p>
        <p>This class can be used for managing any type of arkOS JSON-based config
        file, including <code class="docutils literal"><span class="pre">settings.json</span></code> and <code class="docutils literal"><span class="pre">secrets.json</span></code>.</p>
        <dl class="method">
        <dt id="arkos.config.Config.append">
        <code class="descname">append</code><span class="sig-paren">(</span><em>section</em>, <em>key</em>, <em>value=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Append a value to a list-type key.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>section</strong> (<em>str</em>) &#8211; Section name</li>
        <li><strong>key</strong> (<em>str</em>) &#8211; Key name</li>
        <li><strong>value</strong> (<em>str</em>) &#8211; Value to append to list</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.config.Config.get">
        <code class="descname">get</code><span class="sig-paren">(</span><em>section</em>, <em>key=None</em>, <em>default=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Get a config section or key.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>section</strong> (<em>str</em>) &#8211; Section name</li>
        <li><strong>key</strong> (<em>str</em>) &#8211; Key name (optional)</li>
        <li><strong>default</strong> &#8211; Default value to return if not found</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Config section (dict) or key (str/int/dict/list)</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.config.Config.get_all">
        <code class="descname">get_all</code><span class="sig-paren">(</span><em>section=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Get all values in the config, or all values in a section.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>section</strong> (<em>str</em>) &#8211; Section name (optional)</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Entire config or config section</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.config.Config.has_option">
        <code class="descname">has_option</code><span class="sig-paren">(</span><em>section</em>, <em>key</em><span class="sig-paren">)</span></dt>
        <dd><p>State if the config has the specified key present.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>section</strong> (<em>str</em>) &#8211; Section name</li>
        <li><strong>key</strong> (<em>str</em>) &#8211; Key name</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if option is present</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.config.Config.load">
        <code class="descname">load</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span></dt>
        <dd><p>Load the config from file.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) &#8211; Path to config file on disk.</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.config.Config.remove">
        <code class="descname">remove</code><span class="sig-paren">(</span><em>section</em>, <em>key</em><span class="sig-paren">)</span></dt>
        <dd><p>Remove a key from the config.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>section</strong> (<em>str</em>) &#8211; Section name</li>
        <li><strong>key</strong> (<em>str</em>) &#8211; Key name</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.config.Config.save">
        <code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Save the config in memory to disk.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.config.Config.set">
        <code class="descname">set</code><span class="sig-paren">(</span><em>section</em>, <em>key</em>, <em>value=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Set a config section or key value.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>section</strong> (<em>str</em>) &#8211; Section name</li>
        <li><strong>key</strong> &#8211; Key name (str) OR section (dict) to set</li>
        <li><strong>value</strong> (<em>str</em>) &#8211; If setting key, value to set</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </dd></dl>

        </div>
        <div class="section" id="module-arkos.connections">
        <span id="arkos-connections"></span><h2>arkos.connections</h2>
        <p>Classes and functions for interacting with system management daemons.</p>
        <dl class="class">
        <dt id="arkos.connections.ConnectionsManager">
        <em class="property">class </em><code class="descclassname">arkos.connections.</code><code class="descname">ConnectionsManager</code></dt>
        <dd><p>Manages arkOS connections to system-level processes via their APIs.</p>
        <dl class="method">
        <dt id="arkos.connections.ConnectionsManager.SystemDConnect">
        <code class="descname">SystemDConnect</code><span class="sig-paren">(</span><em>path</em>, <em>interface</em><span class="sig-paren">)</span></dt>
        <dd><p>Initialize a DBus interface to a systemd resource.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>path</strong> (<em>str</em>) &#8211; Path to systemd object</li>
        <li><strong>interface</strong> (<em>str</em>) &#8211; Name of resource</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">DBus <code class="docutils literal"><span class="pre">Interface</span></code></p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.connections.ConnectionsManager.connect">
        <code class="descname">connect</code><span class="sig-paren">(</span><em>config</em>, <em>secrets</em><span class="sig-paren">)</span></dt>
        <dd><p>Initialize the connections.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>config</strong> (<a href="#arkos.config.Config" title="arkos.config.Config"><em>Config</em></a>) &#8211; arkOS config</li>
        <li><strong>secrets</strong> (<a href="#arkos.config.Config" title="arkos.config.Config"><em>Config</em></a>) &#8211; arkOS secrets</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.connections.ldap_connect">
        <code class="descclassname">arkos.connections.</code><code class="descname">ldap_connect</code><span class="sig-paren">(</span><em>uri=''</em>, <em>rootdn=''</em>, <em>dn='cn=admin'</em>, <em>config=None</em>, <em>passwd=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Initialize a connection to arkOS LDAP.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>uri</strong> (<em>str</em>) &#8211; LDAP host URI</li>
        <li><strong>rootdn</strong> (<em>str</em>) &#8211; Root DN</li>
        <li><strong>dn</strong> (<em>str</em>) &#8211; User DN</li>
        <li><strong>config</strong> (<a href="#arkos.config.Config" title="arkos.config.Config"><em>Config</em></a>) &#8211; arkOS config to use for default values</li>
        <li><strong>passwd</strong> (<em>str</em>) &#8211; Password to use to validate credentials</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">LDAP connection object</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.connections.supervisor_connect">
        <code class="descclassname">arkos.connections.</code><code class="descname">supervisor_connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Initialize a connection to Supervisor via XML-RPC API.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">XML-RPC connection object</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.databases">
        <span id="arkos-databases"></span><h2>arkos.databases</h2>
        <p>Classes and functions for managing databases and database engines.</p>
        <dl class="class">
        <dt id="arkos.databases.Database">
        <em class="property">class </em><code class="descclassname">arkos.databases.</code><code class="descname">Database</code><span class="sig-paren">(</span><em>id=''</em>, <em>manager=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Represents a database present on the system.</p>
        <p>Databases can be of various types, which can be installed via Database app
        extensions to arkOS. This class is to be reimplemented by each database
        app, and an instance created for each database found to be using that
        database engine.</p>
        <dl class="method">
        <dt id="arkos.databases.Database.add">
        <code class="descname">add</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Add a database.</p>
        <p>Calls the function declared in the subclass to execute actions as
        per that application&#8217;s needs.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.databases.Database.add_db">
        <code class="descname">add_db</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Add a database. Override in database app code.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.databases.Database.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return database metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.databases.Database.execute">
        <code class="descname">execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Execute SQL on a database. Override in database app code.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.databases.Database.remove">
        <code class="descname">remove</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Remove a database.</p>
        <p>Calls the function declared in the subclass to execute actions as
        per that application&#8217;s needs.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.databases.Database.remove_db">
        <code class="descname">remove_db</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Remove a database. Override in database app code.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.databases.Database.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable database metadata as dict.</p>
        </dd></dl>

        </dd></dl>

        <dl class="class">
        <dt id="arkos.databases.DatabaseManager">
        <em class="property">class </em><code class="descclassname">arkos.databases.</code><code class="descname">DatabaseManager</code><span class="sig-paren">(</span><em>id=''</em>, <em>name=''</em>, <em>meta=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Represents a database engine type present on the system.</p>
        <p>Database managers allow for the wholesale management of databases,
        including the instantiation of arkOS database and database user objects,
        as well as ensuring engine API connection and other things.</p>
        <dl class="method">
        <dt id="arkos.databases.DatabaseManager.add_db">
        <code class="descname">add_db</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span></dt>
        <dd><p>Convenience: to add a database. Override in database app code.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.databases.DatabaseManager.add_user">
        <code class="descname">add_user</code><span class="sig-paren">(</span><em>name</em>, <em>passwd</em><span class="sig-paren">)</span></dt>
        <dd><p>Convenience: to add a user. Override in database app code.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.databases.DatabaseManager.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return database manager metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.databases.DatabaseManager.connect">
        <code class="descname">connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Connect to database engine API. Override in database app code.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.databases.DatabaseManager.get_dbs">
        <code class="descname">get_dbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get a list of databases of this type. Override in database app code.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of Database objects</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.databases.DatabaseManager.get_users">
        <code class="descname">get_users</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get list of database users of this type. Override in database app code.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of DatabaseUser objects</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.databases.DatabaseManager.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable database manager metadata as dict.</p>
        </dd></dl>

        </dd></dl>

        <dl class="class">
        <dt id="arkos.databases.DatabaseUser">
        <em class="property">class </em><code class="descclassname">arkos.databases.</code><code class="descname">DatabaseUser</code><span class="sig-paren">(</span><em>id=''</em>, <em>passwd=''</em>, <em>manager=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Represents a database user present on the system.</p>
        <p>Database users can be of various types, which can be installed via Database
        app extensions to arkOS. Not all database types will require database
        users. This class is to be reimplemented by each database app, and an
        instance created for each database found to be using that database engine.</p>
        <dl class="method">
        <dt id="arkos.databases.DatabaseUser.add">
        <code class="descname">add</code><span class="sig-paren">(</span><em>passwd</em><span class="sig-paren">)</span></dt>
        <dd><p>Add a database user.</p>
        <p>Calls the function declared in the subclass to execute actions as
        per that application&#8217;s needs.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.databases.DatabaseUser.add_user">
        <code class="descname">add_user</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Add a database user. Override in database app code.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.databases.DatabaseUser.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return database user metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.databases.DatabaseUser.chperm">
        <code class="descname">chperm</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Change database user permissions. Override in database app code.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.databases.DatabaseUser.remove">
        <code class="descname">remove</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Remove a database user.</p>
        <p>Calls the function declared in the subclass to execute actions as
        per that application&#8217;s needs.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.databases.DatabaseUser.remove_user">
        <code class="descname">remove_user</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Remove a database user. Override in database app code.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.databases.DatabaseUser.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable database metadata as dict.</p>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.databases.get">
        <code class="descclassname">arkos.databases.</code><code class="descname">get</code><span class="sig-paren">(</span><em>id=None</em>, <em>type=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Retrieve a list of all databases registered with arkOS.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; If present, obtain one database that matches this ID</li>
        <li><strong>type</strong> (<em>str</em>) &#8211; Filter by <code class="docutils literal"><span class="pre">mariadb</span></code>, <code class="docutils literal"><span class="pre">sqlite3</span></code>, etc</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Database(s)</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Database or list thereof</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.databases.get_managers">
        <code class="descclassname">arkos.databases.</code><code class="descname">get_managers</code><span class="sig-paren">(</span><em>id=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Retrieve a list of all database managers registered with arkOS.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>str</em>) &#8211; If present, obtain one database manager that matches this ID</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">DatabaseManager(s)</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">DatabaseManager or list thereof</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.databases.get_user">
        <code class="descclassname">arkos.databases.</code><code class="descname">get_user</code><span class="sig-paren">(</span><em>id=None</em>, <em>type=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Retrieve a list of all database users registered with arkOS.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; If present, obtain one database user that matches this ID</li>
        <li><strong>type</strong> (<em>str</em>) &#8211; Filter by <code class="docutils literal"><span class="pre">mariadb</span></code>, <code class="docutils literal"><span class="pre">sqlite3</span></code>, etc</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">DatabaseUser(s)</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">DatabaseUser or list thereof</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.databases.scan">
        <code class="descclassname">arkos.databases.</code><code class="descname">scan</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Retrieve a list of all databases registered with arkOS.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Database(s)</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Database or list thereof</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.databases.scan_managers">
        <code class="descclassname">arkos.databases.</code><code class="descname">scan_managers</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Retrieve a list of all database managers registered with arkOS.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">DatabaseManager(s)</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">DatabaseManager or list thereof</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.databases.scan_users">
        <code class="descclassname">arkos.databases.</code><code class="descname">scan_users</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Retrieve a list of all database users registered with arkOS.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">DatabaseUser(s)</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">DatabaseUser or list thereof</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.languages.nodejs">
        <span id="arkos-languages-nodejs"></span><h2>arkos.languages.nodejs</h2>
        <p>Helper functions for managing NPM packages.</p>
        <dl class="function">
        <dt id="arkos.languages.nodejs.install">
        <code class="descclassname">arkos.languages.nodejs.</code><code class="descname">install</code><span class="sig-paren">(</span><em>*mods</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
        <dd><p>Install a set of NPM packages.</p>
        <p>Include <code class="docutils literal"><span class="pre">as_global</span></code> in kwargs to install package as global.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>*mods</strong> &#8211; <p>Packages to install</p>
        </li>
        <li><strong>**kwargs</strong> &#8211; <p>Extra keyword arguments to pass to NPM</p>
        </li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.nodejs.install_from_package">
        <code class="descclassname">arkos.languages.nodejs.</code><code class="descname">install_from_package</code><span class="sig-paren">(</span><em>path</em>, <em>stat='production'</em>, <em>opts={}</em><span class="sig-paren">)</span></dt>
        <dd><p>Install a set of NPM package dependencies from an NPM package.json.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>path</strong> (<em>str</em>) &#8211; path to directory with package.json</li>
        <li><strong>stat</strong> (<em>str</em>) &#8211; Install to &#8220;production&#8221;?</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.nodejs.is_installed">
        <code class="descclassname">arkos.languages.nodejs.</code><code class="descname">is_installed</code><span class="sig-paren">(</span><em>name</em>, <em>as_global=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Return whether an NPM package is installed.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>name</strong> (<em>str</em>) &#8211; NPM package name</li>
        <li><strong>as_global</strong> (<em>bool</em>) &#8211; Check global NPM instead of local</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.nodejs.remove">
        <code class="descclassname">arkos.languages.nodejs.</code><code class="descname">remove</code><span class="sig-paren">(</span><em>*mods</em><span class="sig-paren">)</span></dt>
        <dd><p>Remove a set of NPM packages.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*mods</strong> &#8211; <p>Packages to remove</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.languages.php">
        <span id="arkos-languages-php"></span><h2>arkos.languages.php</h2>
        <p>Helper functions for managing Composer packages and PHP modules.</p>
        <dl class="function">
        <dt id="arkos.languages.php.change_setting">
        <code class="descclassname">arkos.languages.php.</code><code class="descname">change_setting</code><span class="sig-paren">(</span><em>name</em>, <em>value</em>, <em>config_file='/etc/php/php.ini'</em><span class="sig-paren">)</span></dt>
        <dd><p>Change a key value in php.ini.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>name</strong> (<em>str</em>) &#8211; key of setting to change</li>
        <li><strong>value</strong> (<em>str</em>) &#8211; key value to set</li>
        <li><strong>config_file</strong> (<em>str</em>) &#8211; Config file to edit</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.php.composer_install">
        <code class="descclassname">arkos.languages.php.</code><code class="descname">composer_install</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span></dt>
        <dd><p>Install a PHP application bundle via Composer.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) &#8211; path to app directory</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.php.disable_mod">
        <code class="descclassname">arkos.languages.php.</code><code class="descname">disable_mod</code><span class="sig-paren">(</span><em>*mod</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
        <dd><p>Disable a PHP extension in php.ini.</p>
        <p>Include <code class="docutils literal"><span class="pre">config_file</span></code> in kwargs to edit a file that is not &#8220;php.ini&#8221;.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*args</strong> &#8211; <p>mods to enable</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.php.enable_mod">
        <code class="descclassname">arkos.languages.php.</code><code class="descname">enable_mod</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
        <dd><p>Enable a PHP extension in php.ini.</p>
        <p>Include <code class="docutils literal"><span class="pre">config_file</span></code> in kwargs to edit a file that is not &#8220;php.ini&#8221;.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*args</strong> &#8211; <p>mods to enable</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.php.install_composer">
        <code class="descclassname">arkos.languages.php.</code><code class="descname">install_composer</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Install Composer to the system.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.php.open_basedir">
        <code class="descclassname">arkos.languages.php.</code><code class="descname">open_basedir</code><span class="sig-paren">(</span><em>op</em>, <em>path</em><span class="sig-paren">)</span></dt>
        <dd><p>Add or remove a path to php.ini&#8217;s open_basedir setting.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>op</strong> (<em>str</em>) &#8211; &#8220;add&#8221; or &#8220;del&#8221;</li>
        <li><strong>path</strong> (<em>str</em>) &#8211; path to add or remove from open_basedir</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.php.upload_size">
        <code class="descclassname">arkos.languages.php.</code><code class="descname">upload_size</code><span class="sig-paren">(</span><em>size</em><span class="sig-paren">)</span></dt>
        <dd><p>Set PHP&#8217;s max upload and post sizes.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>size</strong> (<em>int</em>) &#8211; Size to set (in MB)</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.php.verify_composer">
        <code class="descclassname">arkos.languages.php.</code><code class="descname">verify_composer</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Verify Composer installation status.</p>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.languages.python">
        <span id="arkos-languages-python"></span><h2>arkos.languages.python</h2>
        <p>Helper functions for managing Python packages.</p>
        <dl class="function">
        <dt id="arkos.languages.python.install">
        <code class="descclassname">arkos.languages.python.</code><code class="descname">install</code><span class="sig-paren">(</span><em>*mods</em><span class="sig-paren">)</span></dt>
        <dd><p>Install a set of Python packages from PyPI.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*mods</strong> &#8211; <p>packages to install</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.python.is_installed">
        <code class="descclassname">arkos.languages.python.</code><code class="descname">is_installed</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span></dt>
        <dd><p>Check if a Python package is installed or not.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>str</em>) &#8211; Name of package</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if package is installed</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.python.remove">
        <code class="descclassname">arkos.languages.python.</code><code class="descname">remove</code><span class="sig-paren">(</span><em>*mods</em><span class="sig-paren">)</span></dt>
        <dd><p>Remove a set of Python packages from the system.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*mods</strong> &#8211; <p>packages to remove</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.languages.ruby">
        <span id="arkos-languages-ruby"></span><h2>arkos.languages.ruby</h2>
        <p>Helper functions for managing Ruby gems.</p>
        <dl class="function">
        <dt id="arkos.languages.ruby.install_gem">
        <code class="descclassname">arkos.languages.ruby.</code><code class="descname">install_gem</code><span class="sig-paren">(</span><em>*gems</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
        <dd><p>Install a set of Ruby gems to the system.</p>
        <p>If <code class="docutils literal"><span class="pre">force</span></code> is present in kwargs and is True, force reinstall of the gem.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*gems</strong> &#8211; <p>gems to install</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.ruby.update_gem">
        <code class="descclassname">arkos.languages.ruby.</code><code class="descname">update_gem</code><span class="sig-paren">(</span><em>*gems</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
        <dd><p>Update a set of presently-installed Ruby gems.</p>
        <p>If <code class="docutils literal"><span class="pre">force</span></code> is present in kwargs and is True, force reinstall of the gem.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*gems</strong> &#8211; <p>gems to install</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.languages.ruby.verify_path">
        <code class="descclassname">arkos.languages.ruby.</code><code class="descname">verify_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Verify that the proper dirs are available on the system&#8217;s exec PATH.</p>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.security">
        <span id="arkos-security"></span><h2>arkos.security</h2>
        <p>Functions for managing iptables firewall and fail2ban defence security.</p>
        <dl class="function">
        <dt id="arkos.security.add_fw">
        <code class="descclassname">arkos.security.</code><code class="descname">add_fw</code><span class="sig-paren">(</span><em>protocol</em>, <em>port</em>, <em>ranges=[]</em><span class="sig-paren">)</span></dt>
        <dd><p>Allow firewall access for specified service.</p>
        <p>If <code class="docutils literal"><span class="pre">ranges</span></code> is not specified, defaults to open access to all hosts.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>protocol</strong> (<em>str</em>) &#8211; either &#8220;TCP&#8221; or &#8220;UDP&#8221;</li>
        <li><strong>port</strong> (<em>int</em>) &#8211; Port number of service</li>
        <li><strong>ranges</strong> (<em>list</em>) &#8211; Range(s) of local network(s) (&#8216;192.168.0.0/24&#8217;)</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.bantime_def">
        <code class="descclassname">arkos.security.</code><code class="descname">bantime_def</code><span class="sig-paren">(</span><em>bantime=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Get or set default ban time for fail2ban restriction.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bantime</strong> (<em>str</em>) &#8211; Time (in seconds) for ban</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">ban time</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.disable_all_def">
        <code class="descclassname">arkos.security.</code><code class="descname">disable_all_def</code><span class="sig-paren">(</span><em>service</em><span class="sig-paren">)</span></dt>
        <dd><p>Disable all fail2ban jail definitions for a given service.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>service</strong> (<em>dict</em>) &#8211; Application service object</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.disable_jail_def">
        <code class="descclassname">arkos.security.</code><code class="descname">disable_jail_def</code><span class="sig-paren">(</span><em>jailname</em><span class="sig-paren">)</span></dt>
        <dd><p>Disable a fail2ban jail definition.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>jailname</strong> (<em>str</em>) &#8211; name of jail to disable</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.enable_all_def">
        <code class="descclassname">arkos.security.</code><code class="descname">enable_all_def</code><span class="sig-paren">(</span><em>service</em><span class="sig-paren">)</span></dt>
        <dd><p>Enable all fail2ban jail definitions for a given service.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>service</strong> (<em>dict</em>) &#8211; Application service object</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.enable_jail_def">
        <code class="descclassname">arkos.security.</code><code class="descname">enable_jail_def</code><span class="sig-paren">(</span><em>jailname</em><span class="sig-paren">)</span></dt>
        <dd><p>Enable a fail2ban jail definition.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>jailname</strong> (<em>str</em>) &#8211; name of jail to enable</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.find_fw">
        <code class="descclassname">arkos.security.</code><code class="descname">find_fw</code><span class="sig-paren">(</span><em>protocol</em>, <em>port</em>, <em>range=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Determine if the rule is already present.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>protocol</strong> (<em>str</em>) &#8211; either &#8220;TCP&#8221; or &#8220;UDP&#8221;</li>
        <li><strong>port</strong> (<em>int</em>) &#8211; Port number of service</li>
        <li><strong>range</strong> (<em>str</em>) &#8211; Range of network to check for (&#8216;192.168.0.0/24&#8217;)</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.findtime_def">
        <code class="descclassname">arkos.security.</code><code class="descname">findtime_def</code><span class="sig-paren">(</span><em>findtime=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Get or set default find time for fail2ban monitoring.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>findtime</strong> (<em>str</em>) &#8211; Time (in seconds) for find</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">find time</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.flush_fw">
        <code class="descclassname">arkos.security.</code><code class="descname">flush_fw</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Flush the firewall chain.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.get_defense_rules">
        <code class="descclassname">arkos.security.</code><code class="descname">get_defense_rules</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get all defense rules from arkOS service objects.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.get_jail_config">
        <code class="descclassname">arkos.security.</code><code class="descname">get_jail_config</code><span class="sig-paren">(</span><em>jcfg=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Load fail2ban firewall jail configuration from file.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>jailconf</strong> (<em>str</em>) &#8211; path to jail configuration file</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">jail config</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">configparser.RawConfigParser</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.ignoreip_def">
        <code class="descclassname">arkos.security.</code><code class="descname">ignoreip_def</code><span class="sig-paren">(</span><em>ranges</em><span class="sig-paren">)</span></dt>
        <dd><p>Get or set default IP ranges for fail2ban to ignore.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ranges</strong> (<em>list</em>) &#8211; IP address ranges to ignore (&#8216;192.168.0.0/24&#8217;)</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.initialize_fw">
        <code class="descclassname">arkos.security.</code><code class="descname">initialize_fw</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Flush all iptables rules and setup a new clean arkOS firewall chain.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.maxretry_def">
        <code class="descclassname">arkos.security.</code><code class="descname">maxretry_def</code><span class="sig-paren">(</span><em>maxretry=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Get or set default max retry time for fail2ban monitoring.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>findtime</strong> (<em>str</em>) &#8211; Time (in seconds) for max retry</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">max retry time</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.regen_fw">
        <code class="descclassname">arkos.security.</code><code class="descname">regen_fw</code><span class="sig-paren">(</span><em>data</em>, <em>range=[]</em><span class="sig-paren">)</span></dt>
        <dd><p>Flush and regenerate arkOS firewall chain.</p>
        <p>If <code class="docutils literal"><span class="pre">range</span></code> is not specified, network module will guess what they are.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>data</strong> (<a href="#arkos.tracked_services.SecurityPolicy" title="arkos.tracked_services.SecurityPolicy"><em>SecurityPolicy</em></a>) &#8211; Security policies to enact</li>
        <li><strong>range</strong> (<em>list</em>) &#8211; Range(s) of local network(s) (&#8216;192.168.0.0/24&#8217;)</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.remove_fw">
        <code class="descclassname">arkos.security.</code><code class="descname">remove_fw</code><span class="sig-paren">(</span><em>protocol</em>, <em>port</em>, <em>ranges=[]</em><span class="sig-paren">)</span></dt>
        <dd><p>Remove firewall rule for specified service.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>protocol</strong> (<em>str</em>) &#8211; either &#8220;TCP&#8221; or &#8220;UDP&#8221;</li>
        <li><strong>port</strong> (<em>int</em>) &#8211; Port number of service</li>
        <li><strong>ranges</strong> (<em>list</em>) &#8211; Range(s) of network(s) to remove (&#8216;192.168.0.0/24&#8217;)</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.security.save_fw">
        <code class="descclassname">arkos.security.</code><code class="descname">save_fw</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Persist firewall rules to a file loadable on boot.</p>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.shared_files">
        <span id="arkos-shared-files"></span><h2>arkos.shared_files</h2>
        <p>Classes and functions for managing arkOS Shared Files.</p>
        <dl class="class">
        <dt id="arkos.shared_files.Share">
        <em class="property">class </em><code class="descclassname">arkos.shared_files.</code><code class="descname">Share</code><span class="sig-paren">(</span><em>id</em>, <em>path</em>, <em>expires=0</em><span class="sig-paren">)</span></dt>
        <dd><p>Class representing a Shared File.</p>
        <p>A Shared File is a file that has had a download link created for it. A user
        can choose a file or set of files to share to another user via the
        File Manager in Genesis. This core class is used uniquely for storing
        information on the shared files in the object cache. Actual serving of
        shared files is done through Kraken.</p>
        <dl class="method">
        <dt id="arkos.shared_files.Share.add">
        <code class="descname">add</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Add a shared file reference to cache.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.shared_files.Share.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return shared file metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.shared_files.Share.delete">
        <code class="descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Delete a shared file reference from cache.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.shared_files.Share.is_expired">
        <code class="descname">is_expired</code></dt>
        <dd><p>Return True if the object is already expired.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.shared_files.Share.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable shared file metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.shared_files.Share.update_expiry">
        <code class="descname">update_expiry</code><span class="sig-paren">(</span><em>nexpiry</em><span class="sig-paren">)</span></dt>
        <dd><p>Update shared file expiry time.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nexpiry</strong> &#8211; datetime representing expiry date/time; 0 for never</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.shared_files.get">
        <code class="descclassname">arkos.shared_files.</code><code class="descname">get</code><span class="sig-paren">(</span><em>id=None</em><span class="sig-paren">)</span></dt>
        <dd><p>List all shared file objects present in cache storage.</p>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.signals">
        <span id="arkos-signals"></span><h2>arkos.signals</h2>
        <p>Classes and functions to manage internal signal hooks and listeners.</p>
        <dl class="class">
        <dt id="arkos.signals.Listener">
        <em class="property">class </em><code class="descclassname">arkos.signals.</code><code class="descname">Listener</code><span class="sig-paren">(</span><em>by</em>, <em>id</em>, <em>sig</em>, <em>func</em><span class="sig-paren">)</span></dt>
        <dd><p>Class representing a signal listener.</p>
        <p>A signal listener is set up to track the emittance of certain signals
        and to execute a function based on the result of said emittance. These
        are good to use for cleanup after an item is removed from the system,
        or for making sure certain elements are established after loading a
        necessary component.</p>
        <dl class="method">
        <dt id="arkos.signals.Listener.trigger">
        <code class="descname">trigger</code><span class="sig-paren">(</span><em>data</em>, <em>crit=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Trigger the hook function for this listener.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>data</strong> &#8211; parameter to provide to the hook function</li>
        <li><strong>crit</strong> (<em>bool</em>) &#8211; Raise hook function exceptions?</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.signals.add">
        <code class="descclassname">arkos.signals.</code><code class="descname">add</code><span class="sig-paren">(</span><em>by</em>, <em>id</em>, <em>sig</em>, <em>func</em><span class="sig-paren">)</span></dt>
        <dd><p>Register a new listener with the system.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>by</strong> (<em>str</em>) &#8211; the name of the module that registered this listener</li>
        <li><strong>id</strong> (<em>str</em>) &#8211; identifier for this listener</li>
        <li><strong>sig</strong> (<em>str</em>) &#8211; signal ID to listen for</li>
        <li><strong>func</strong> (<em>func</em>) &#8211; hook function to execute</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.signals.emit">
        <code class="descclassname">arkos.signals.</code><code class="descname">emit</code><span class="sig-paren">(</span><em>id</em>, <em>sig</em>, <em>data=None</em>, <em>crit=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Emit a signal.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; name of the module emitting this signal</li>
        <li><strong>sig</strong> (<em>str</em>) &#8211; signal ID</li>
        <li><strong>data</strong> &#8211; parameter to pass to hook function (if necessary)</li>
        <li><strong>crit</strong> (<em>bool</em>) &#8211; Raise hook function exceptions?</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.signals.remove">
        <code class="descclassname">arkos.signals.</code><code class="descname">remove</code><span class="sig-paren">(</span><em>by</em><span class="sig-paren">)</span></dt>
        <dd><p>Deregister all listeners for this module.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>by</strong> (<em>str</em>) &#8211; name of the module to dereigster listeners for</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.storage">
        <span id="arkos-storage"></span><h2>arkos.storage</h2>
        <p>Classes to manage internal object cache.</p>
        <dl class="class">
        <dt id="arkos.storage.Storage">
        <em class="property">class </em><code class="descclassname">arkos.storage.</code><code class="descname">Storage</code><span class="sig-paren">(</span><em>types=[]</em><span class="sig-paren">)</span></dt>
        <dd><p>Represents memory storage for different types of arkOS objects.</p>
        <dl class="method">
        <dt id="arkos.storage.Storage.add">
        <code class="descname">add</code><span class="sig-paren">(</span><em>stype</em>, <em>item</em><span class="sig-paren">)</span></dt>
        <dd><p>Add an object to storage list.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>stype</strong> (<em>str</em>) &#8211; Storage subtype</li>
        <li><strong>item</strong> &#8211; Object to store</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.storage.Storage.get">
        <code class="descname">get</code><span class="sig-paren">(</span><em>stype</em>, <em>id=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Retrieve an object (or objects) from storage.</p>
        <p>If <code class="docutils literal"><span class="pre">id</span></code> is not specified, all objects returned.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>stype</strong> (<em>str</em>) &#8211; Storage subtype</li>
        <li><strong>id</strong> (<em>str</em>) &#8211; Object&#8217;s ID property</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">object or list of objects</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.storage.Storage.get_keyed">
        <code class="descname">get_keyed</code><span class="sig-paren">(</span><em>stype</em>, <em>id=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Retrieve objects from storage, via a dictionary keyed by object ID.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stype</strong> (<em>str</em>) &#8211; Storage subtype</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.storage.Storage.remove">
        <code class="descname">remove</code><span class="sig-paren">(</span><em>stype</em>, <em>item</em><span class="sig-paren">)</span></dt>
        <dd><p>Remove object from storage.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>stype</strong> (<em>str</em>) &#8211; Storage subtype</li>
        <li><strong>item</strong> &#8211; Object</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.storage.Storage.set">
        <code class="descname">set</code><span class="sig-paren">(</span><em>stype</em>, <em>items</em><span class="sig-paren">)</span></dt>
        <dd><p>Set an object storage list.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>stype</strong> (<em>str</em>) &#8211; Storage subtype</li>
        <li><strong>items</strong> (<em>list</em>) &#8211; List of object(s) to store</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </dd></dl>

        <dl class="class">
        <dt id="arkos.storage.StorageControl">
        <em class="property">class </em><code class="descclassname">arkos.storage.</code><code class="descname">StorageControl</code></dt>
        <dd><p>The primary controller for all Storage classes.</p>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.system.domains">
        <span id="arkos-system-domains"></span><h2>arkos.system.domains</h2>
        <p>Classes and functions for managing LDAP domains.</p>
        <dl class="class">
        <dt id="arkos.system.domains.Domain">
        <em class="property">class </em><code class="descclassname">arkos.system.domains.</code><code class="descname">Domain</code><span class="sig-paren">(</span><em>name</em>, <em>rootdn='dc=arkos-servers</em>, <em>dc=org'</em><span class="sig-paren">)</span></dt>
        <dd><p>Class for managing arkOS domains in LDAP.</p>
        <dl class="method">
        <dt id="arkos.system.domains.Domain.add">
        <code class="descname">add</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Add the domain to LDAP.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.domains.Domain.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return domain metadata as dict.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.domains.Domain.ldap_id">
        <code class="descname">ldap_id</code></dt>
        <dd><p>Fetch LDAP ID.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.domains.Domain.remove">
        <code class="descname">remove</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Delete domain.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.domains.Domain.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable domain metadata as dict.</p>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.domains.get">
        <code class="descclassname">arkos.system.domains.</code><code class="descname">get</code><span class="sig-paren">(</span><em>id=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Get all domains.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>str</em>) &#8211; domain name to fetch</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Domain(s)</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Domain or list thereof</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </div>
        <div class="section" id="arkos-system-filesystems">
        <h2>arkos.system.filesystems</h2>
        <span class="target" id="module-arkos.system.filesystems"></span><p>Initializer for filesystems module.</p>
        <dl class="class">
        <dt id="arkos.system.filesystems.DiskPartition">
        <em class="property">class </em><code class="descclassname">arkos.system.filesystems.</code><code class="descname">DiskPartition</code><span class="sig-paren">(</span><em>id=''</em>, <em>path=''</em>, <em>mountpoint=None</em>, <em>size=0</em>, <em>fstype=''</em>, <em>enabled=False</em>, <em>crypt=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Class for managing physical disk partitions.</p>
        <dl class="attribute">
        <dt id="arkos.system.filesystems.DiskPartition.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return partition metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.filesystems.DiskPartition.disable">
        <code class="descname">disable</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Disable mounting of this partition on boot.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.filesystems.DiskPartition.enable">
        <code class="descname">enable</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Enable mounting of this partition on boot.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.filesystems.DiskPartition.is_mounted">
        <code class="descname">is_mounted</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Return True if partition is mounted.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.filesystems.DiskPartition.mount">
        <code class="descname">mount</code><span class="sig-paren">(</span><em>passwd=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Mount partition.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>passwd</strong> (<em>str</em>) &#8211; If disk is encrypted, use this passphrase to unlock</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.filesystems.DiskPartition.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serialized partition metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.filesystems.DiskPartition.umount">
        <code class="descname">umount</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Unmount partition.</p>
        </dd></dl>

        </dd></dl>

        <dl class="class">
        <dt id="arkos.system.filesystems.VirtualDisk">
        <em class="property">class </em><code class="descclassname">arkos.system.filesystems.</code><code class="descname">VirtualDisk</code><span class="sig-paren">(</span><em>id=''</em>, <em>path=''</em>, <em>mountpoint=None</em>, <em>size=0</em>, <em>fstype='ext4'</em>, <em>enabled=False</em>, <em>crypt=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Class to manage virtual disk image objects.</p>
        <dl class="attribute">
        <dt id="arkos.system.filesystems.VirtualDisk.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return image metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.filesystems.VirtualDisk.create">
        <code class="descname">create</code><span class="sig-paren">(</span><em>mount=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Create virtual disk image.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mount</strong> (<em>bool</em>) &#8211; Mount after creation?</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.filesystems.VirtualDisk.disable">
        <code class="descname">disable</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Disable mounting disk on boot.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.filesystems.VirtualDisk.enable">
        <code class="descname">enable</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Enable disk mounting on boot.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.filesystems.VirtualDisk.encrypt">
        <code class="descname">encrypt</code><span class="sig-paren">(</span><em>passwd</em>, <em>cipher=None</em>, <em>keysize=None</em>, <em>mount=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Encrypt virtual disk image.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name" colspan="2">Params str passwd:</th></tr>
        <tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Passphrase to encrypt disk with</td>
        </tr>
        <tr class="field-even field"><th class="field-name" colspan="2">Params str cipher:</th></tr>
        <tr class="field-even field"><td>&nbsp;</td><td class="field-body">cipher suite to use (default aes-xts-plain64)</td>
        </tr>
        <tr class="field-odd field"><th class="field-name" colspan="2">Params str keysize:</th></tr>
        <tr class="field-odd field"><td>&nbsp;</td><td class="field-body">default key size to use (default 256)</td>
        </tr>
        <tr class="field-even field"><th class="field-name" colspan="2">Params bool mount:</th></tr>
        <tr class="field-even field"><td>&nbsp;</td><td class="field-body">mount after encrypt?</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.filesystems.VirtualDisk.mount">
        <code class="descname">mount</code><span class="sig-paren">(</span><em>passwd=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Mount partition.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>passwd</strong> (<em>str</em>) &#8211; If disk is encrypted, use this passphrase to unlock</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.filesystems.VirtualDisk.remove">
        <code class="descname">remove</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Delete virtual disk image.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.filesystems.VirtualDisk.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable image metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.filesystems.VirtualDisk.umount">
        <code class="descname">umount</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Unmount disk.</p>
        </dd></dl>

        </dd></dl>

        <dl class="class">
        <dt id="arkos.system.filesystems.PointOfInterest">
        <em class="property">class </em><code class="descclassname">arkos.system.filesystems.</code><code class="descname">PointOfInterest</code><span class="sig-paren">(</span><em>id=''</em>, <em>path=''</em>, <em>stype=''</em>, <em>icon=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Class managing point of interest objects.</p>
        <p>A point of interest is a location on the filesystem that may be of interest
        to users on completing routine tasks, such as data directories of websites
        or mounted filesystems. They allow easy browsing in the file manager or
        selection for other tasks that require specification of a path.</p>
        <dl class="attribute">
        <dt id="arkos.system.filesystems.PointOfInterest.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return point of interest metadata as dict.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.filesystems.PointOfInterest.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable point of interest metadata as dict.</p>
        </dd></dl>

        </dd></dl>

        <dl class="class">
        <dt id="arkos.system.filesystems.FstabEntry">
        <em class="property">class </em><code class="descclassname">arkos.system.filesystems.</code><code class="descname">FstabEntry</code></dt>
        <dd><p>Class to manage entries in &#8216;/etc/fstab&#8217;.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.filesystems.get_fstab">
        <code class="descclassname">arkos.system.filesystems.</code><code class="descname">get_fstab</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get all fstab entries.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.filesystems.save_fstab_entry">
        <code class="descclassname">arkos.system.filesystems.</code><code class="descname">save_fstab_entry</code><span class="sig-paren">(</span><em>e</em>, <em>remove=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Format and save fstab entry.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.filesystems.get_partition_uuid_by_name">
        <code class="descclassname">arkos.system.filesystems.</code><code class="descname">get_partition_uuid_by_name</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span></dt>
        <dd><p>Get a partition&#8217;s UUID from its device name.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.filesystems.get_partition_name_by_uuid">
        <code class="descclassname">arkos.system.filesystems.</code><code class="descname">get_partition_name_by_uuid</code><span class="sig-paren">(</span><em>u</em><span class="sig-paren">)</span></dt>
        <dd><p>Get a partition&#8217;s device name from its UUID.</p>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.system.groups">
        <span id="arkos-system-groups"></span><h2>arkos.system.groups</h2>
        <p>Classes and functions for managing LDAP and system groups.</p>
        <dl class="class">
        <dt id="arkos.system.groups.Group">
        <em class="property">class </em><code class="descclassname">arkos.system.groups.</code><code class="descname">Group</code><span class="sig-paren">(</span><em>name=''</em>, <em>gid=0</em>, <em>users=[]</em>, <em>rootdn='dc=arkos-servers</em>, <em>dc=org'</em><span class="sig-paren">)</span></dt>
        <dd><p>Class for managing arkOS groups in LDAP.</p>
        <dl class="method">
        <dt id="arkos.system.groups.Group.add">
        <code class="descname">add</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Add the group to LDAP.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.groups.Group.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return group metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.groups.Group.delete">
        <code class="descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Delete group.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.groups.Group.ldap_id">
        <code class="descname">ldap_id</code></dt>
        <dd><p>Fetch LDAP ID.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.groups.Group.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable group metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.groups.Group.update">
        <code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Update a group object in LDAP. Change params on the object first.</p>
        </dd></dl>

        </dd></dl>

        <dl class="class">
        <dt id="arkos.system.groups.SystemGroup">
        <em class="property">class </em><code class="descclassname">arkos.system.groups.</code><code class="descname">SystemGroup</code><span class="sig-paren">(</span><em>name=''</em>, <em>gid=0</em>, <em>users=[]</em><span class="sig-paren">)</span></dt>
        <dd><p>Class for managing system groups.</p>
        <dl class="method">
        <dt id="arkos.system.groups.SystemGroup.add">
        <code class="descname">add</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Add group.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.groups.SystemGroup.delete">
        <code class="descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Delete group.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.groups.SystemGroup.update">
        <code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Update group members.</p>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.groups.get">
        <code class="descclassname">arkos.system.groups.</code><code class="descname">get</code><span class="sig-paren">(</span><em>gid=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Get all LDAP groups.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>gid</strong> (<em>str</em>) &#8211; ID of single group to fetch</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Group(s)</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Group or list thereof</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.groups.get_next_gid">
        <code class="descclassname">arkos.system.groups.</code><code class="descname">get_next_gid</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get the next available group ID number in sequence.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.groups.get_system">
        <code class="descclassname">arkos.system.groups.</code><code class="descname">get_system</code><span class="sig-paren">(</span><em>gid=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Get all system groups.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>gid</strong> (<em>str</em>) &#8211; ID of single group to fetch</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">SystemGroup(s)</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">SystemGroup or list thereof</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.system.network">
        <span id="arkos-system-network"></span><h2>arkos.system.network</h2>
        <p>Classes and functions for managing network connections.</p>
        <dl class="class">
        <dt id="arkos.system.network.Connection">
        <em class="property">class </em><code class="descclassname">arkos.system.network.</code><code class="descname">Connection</code><span class="sig-paren">(</span><em>id=''</em>, <em>connected=False</em>, <em>enabled=False</em>, <em>config={}</em><span class="sig-paren">)</span></dt>
        <dd><p>Class to represent a network connection.</p>
        <dl class="method">
        <dt id="arkos.system.network.Connection.add">
        <code class="descname">add</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Add network connection.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.network.Connection.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return network metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.network.Connection.connect">
        <code class="descname">connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Connect to network.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.network.Connection.disable">
        <code class="descname">disable</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Disable connection on boot.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.network.Connection.disconnect">
        <code class="descname">disconnect</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Disconnect from network.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.network.Connection.enable">
        <code class="descname">enable</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Enable connection on boot.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.network.Connection.remove">
        <code class="descname">remove</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Remove network connection.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.network.Connection.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable network metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.network.Connection.toggle">
        <code class="descname">toggle</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Toggle network state.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.network.Connection.update">
        <code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Update network connection with object properties.</p>
        </dd></dl>

        </dd></dl>

        <dl class="class">
        <dt id="arkos.system.network.Interface">
        <em class="property">class </em><code class="descclassname">arkos.system.network.</code><code class="descname">Interface</code><span class="sig-paren">(</span><em>id=''</em>, <em>itype=''</em>, <em>up=False</em>, <em>ip=[]</em>, <em>rx=0</em>, <em>tx=0</em><span class="sig-paren">)</span></dt>
        <dd><p>Class to represent a network connection.</p>
        <dl class="attribute">
        <dt id="arkos.system.network.Interface.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return interface metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.network.Interface.bring_down">
        <code class="descname">bring_down</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Bring interface down.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.network.Interface.bring_up">
        <code class="descname">bring_up</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Bring interface up.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.network.Interface.disable">
        <code class="descname">disable</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Don&#8217;t bring interface up on boot.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.network.Interface.enable">
        <code class="descname">enable</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Bring interface up on boot.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.network.Interface.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable interface metadata as dict.</p>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.network.get_active_ranges">
        <code class="descclassname">arkos.system.network.</code><code class="descname">get_active_ranges</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get local IP address ranges of connected networks.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of IP address ranges</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.network.get_connections">
        <code class="descclassname">arkos.system.network.</code><code class="descname">get_connections</code><span class="sig-paren">(</span><em>id=None</em>, <em>iface=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Get list of network connections.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; Filter by network connection name</li>
        <li><strong>iface</strong> (<em>str</em>) &#8211; Filter by network interface name</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Connection(s)</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Connection or list thereof</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.network.get_interfaces">
        <code class="descclassname">arkos.system.network.</code><code class="descname">get_interfaces</code><span class="sig-paren">(</span><em>id=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Get list of network interfaces.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>str</em>) &#8211; Filter by network interface name</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Interface(s)</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Interface or list thereof</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.system.services">
        <span id="arkos-system-services"></span><h2>arkos.system.services</h2>
        <p>Classes and functions for management of system-level services.</p>
        <dl class="exception">
        <dt id="arkos.system.services.ActionError">
        <em class="property">exception </em><code class="descclassname">arkos.system.services.</code><code class="descname">ActionError</code><span class="sig-paren">(</span><em>etype</em>, <em>emsg</em><span class="sig-paren">)</span></dt>
        <dd><p>An exception raised when a start/stop action can&#8217;t be performed.</p>
        </dd></dl>

        <dl class="class">
        <dt id="arkos.system.services.Service">
        <em class="property">class </em><code class="descclassname">arkos.system.services.</code><code class="descname">Service</code><span class="sig-paren">(</span><em>name=''</em>, <em>stype=''</em>, <em>state=False</em>, <em>enabled=False</em>, <em>cfg={}</em><span class="sig-paren">)</span></dt>
        <dd><p>A class representing a system-level service.</p>
        <p>Services can be of type <code class="docutils literal"><span class="pre">systemd</span></code> or <code class="docutils literal"><span class="pre">supervisor</span></code>.</p>
        <dl class="method">
        <dt id="arkos.system.services.Service.add">
        <code class="descname">add</code><span class="sig-paren">(</span><em>enable=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Add a new Supervisor service.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.services.Service.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return service metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.services.Service.disable">
        <code class="descname">disable</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Disable service starting on boot.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.services.Service.enable">
        <code class="descname">enable</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Enable service to start on boot.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.services.Service.get_log">
        <code class="descname">get_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get supervisor service logs.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.services.Service.remove">
        <code class="descname">remove</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Remove supervisor service.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.services.Service.restart">
        <code class="descname">restart</code><span class="sig-paren">(</span><em>real=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Restart service.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.services.Service.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable service metadata as dict.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.services.Service.sfname">
        <code class="descname">sfname</code></dt>
        <dd><p>Return service file name.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.services.Service.start">
        <code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Start service.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.services.Service.stop">
        <code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Stop service.</p>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.services.get">
        <code class="descclassname">arkos.system.services.</code><code class="descname">get</code><span class="sig-paren">(</span><em>id=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Get all service objects. If ID is specified, returns just one service.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>str</em>) &#8211; Service ID to fetch</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Service(s)</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Service or list thereof</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.services.supervisor_ping">
        <code class="descclassname">arkos.system.services.</code><code class="descname">supervisor_ping</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Check to make sure Supervisor API connection is functional.</p>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.system.stats">
        <span id="arkos-system-stats"></span><h2>arkos.system.stats</h2>
        <p>Helper functions for obtaining system statistics.</p>
        <dl class="function">
        <dt id="arkos.system.stats.get_all">
        <code class="descclassname">arkos.system.stats.</code><code class="descname">get_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get all available statistics.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.stats.get_cpu">
        <code class="descclassname">arkos.system.stats.</code><code class="descname">get_cpu</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get current CPU use percentage.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.stats.get_load">
        <code class="descclassname">arkos.system.stats.</code><code class="descname">get_load</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get system load averages.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.stats.get_ram">
        <code class="descclassname">arkos.system.stats.</code><code class="descname">get_ram</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get free and total RAM stats.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.stats.get_space">
        <code class="descclassname">arkos.system.stats.</code><code class="descname">get_space</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get used disk space.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.stats.get_swap">
        <code class="descclassname">arkos.system.stats.</code><code class="descname">get_swap</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get current swap space usage.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.stats.get_temp">
        <code class="descclassname">arkos.system.stats.</code><code class="descname">get_temp</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get CPU temperature readings.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.stats.get_uptime">
        <code class="descclassname">arkos.system.stats.</code><code class="descname">get_uptime</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get system uptime.</p>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.system.sysconfig">
        <span id="arkos-system-sysconfig"></span><h2>arkos.system.sysconfig</h2>
        <p>Helper functions for managing certain system actions.</p>
        <dl class="function">
        <dt id="arkos.system.sysconfig.get_hostname">
        <code class="descclassname">arkos.system.sysconfig.</code><code class="descname">get_hostname</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get system hostname.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.sysconfig.get_timezone">
        <code class="descclassname">arkos.system.sysconfig.</code><code class="descname">get_timezone</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get current timezone. Returns <code class="docutils literal"><span class="pre">region</span></code> and <code class="docutils literal"><span class="pre">zone</span></code> in dict.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.sysconfig.reboot">
        <code class="descclassname">arkos.system.sysconfig.</code><code class="descname">reboot</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Reboot the system.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.sysconfig.reload">
        <code class="descclassname">arkos.system.sysconfig.</code><code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Reload krakend.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.sysconfig.set_hostname">
        <code class="descclassname">arkos.system.sysconfig.</code><code class="descname">set_hostname</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span></dt>
        <dd><p>Set system hostname.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.sysconfig.set_timezone">
        <code class="descclassname">arkos.system.sysconfig.</code><code class="descname">set_timezone</code><span class="sig-paren">(</span><em>region</em>, <em>zone=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Set system timezone.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.sysconfig.shutdown">
        <code class="descclassname">arkos.system.sysconfig.</code><code class="descname">shutdown</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Shutdown the system.</p>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.system.systemtime">
        <span id="arkos-system-systemtime"></span><h2>arkos.system.systemtime</h2>
        <p>Helper functions for managing system time.</p>
        <dl class="function">
        <dt id="arkos.system.systemtime.get_date">
        <code class="descclassname">arkos.system.systemtime.</code><code class="descname">get_date</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get current date.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Date in config&#8217;s <code class="docutils literal"><span class="pre">date_format</span></code></td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.systemtime.get_datetime">
        <code class="descclassname">arkos.system.systemtime.</code><code class="descname">get_datetime</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get current date and time in default formats.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">date and time</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.systemtime.get_idatetime">
        <code class="descclassname">arkos.system.systemtime.</code><code class="descname">get_idatetime</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get date and time from NTP server.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Unix timestamp</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.systemtime.get_iso_time">
        <code class="descclassname">arkos.system.systemtime.</code><code class="descname">get_iso_time</code><span class="sig-paren">(</span><em>ts=None</em>, <em>fmt='%Y%m%d%H%M%S'</em><span class="sig-paren">)</span></dt>
        <dd><p>Get time in ISO-8601 format from provided timestamp (or current time).</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>ts</strong> (<em>str</em>) &#8211; timestamp string. If None, time returned is current time.</li>
        <li><strong>fmt</strong> (<em>str</em>) &#8211; format to parse provided timestamp by</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ISO-8601 timestamp</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.systemtime.get_offset">
        <code class="descclassname">arkos.system.systemtime.</code><code class="descname">get_offset</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get the amount of seconds that system time is off from NTP.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">NTP offset</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.systemtime.get_serial_time">
        <code class="descclassname">arkos.system.systemtime.</code><code class="descname">get_serial_time</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get current time in serial format (e.g. 20150420213000).</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">time in serial format</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.systemtime.get_time">
        <code class="descclassname">arkos.system.systemtime.</code><code class="descname">get_time</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get current time.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Time in config&#8217;s <code class="docutils literal"><span class="pre">time_format</span></code></td>
        </tr>
        <tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.systemtime.get_unix_time">
        <code class="descclassname">arkos.system.systemtime.</code><code class="descname">get_unix_time</code><span class="sig-paren">(</span><em>ts=None</em>, <em>fmt='%Y-%m-%dT%H:%M:%S'</em><span class="sig-paren">)</span></dt>
        <dd><p>Get Unix time from provided timestamp (or current time if None).</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>ts</strong> (<em>str</em>) &#8211; timestamp string</li>
        <li><strong>fmt</strong> (<em>str</em>) &#8211; format to parse provided timestamp by</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Unix timestamp</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.systemtime.set_datetime">
        <code class="descclassname">arkos.system.systemtime.</code><code class="descname">set_datetime</code><span class="sig-paren">(</span><em>ut=0</em><span class="sig-paren">)</span></dt>
        <dd><p>Set system time from provided Unix timestamp (or current time via NTP).</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ut</strong> (<em>int</em>) &#8211; Unix timestamp</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="class">
        <dt id="arkos.system.systemtime.timespec">
        <em class="property">class </em><code class="descclassname">arkos.system.systemtime.</code><code class="descname">timespec</code></dt>
        <dd><p>C struct for timespec.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.systemtime.ts_to_datetime">
        <code class="descclassname">arkos.system.systemtime.</code><code class="descname">ts_to_datetime</code><span class="sig-paren">(</span><em>ts</em>, <em>fmt='%Y%m%d%H%M%S'</em><span class="sig-paren">)</span></dt>
        <dd><p>Get datetime object from provided timestamp (or current time).</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>ts</strong> (<em>str</em>) &#8211; timestamp string</li>
        <li><strong>fmt</strong> (<em>str</em>) &#8211; format to parse provided timestamp by</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">datetime object</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">datetime.datetime</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.systemtime.verify_time">
        <code class="descclassname">arkos.system.systemtime.</code><code class="descname">verify_time</code><span class="sig-paren">(</span><em>update=True</em>, <em>crit=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Verify system time with NTP, set it if it is more than an hour off.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>update</strong> (<em>bool</em>) &#8211; Update system time if it is too far off.</li>
        <li><strong>crit</strong> (<em>bool</em>) &#8211; Raise an exception if time cannot be retrieved.</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.system.users">
        <span id="arkos-system-users"></span><h2>arkos.system.users</h2>
        <p>Classes and functions for managing LDAP and system users.</p>
        <dl class="class">
        <dt id="arkos.system.users.SystemUser">
        <em class="property">class </em><code class="descclassname">arkos.system.users.</code><code class="descname">SystemUser</code><span class="sig-paren">(</span><em>name=''</em>, <em>uid=0</em>, <em>groups=[]</em><span class="sig-paren">)</span></dt>
        <dd><p>Class for managing system user records.</p>
        <dl class="method">
        <dt id="arkos.system.users.SystemUser.add">
        <code class="descname">add</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Add user.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.users.SystemUser.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return system user metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.users.SystemUser.delete">
        <code class="descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Delete user.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.users.SystemUser.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serialized system user metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.users.SystemUser.update">
        <code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Update user groups.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.users.SystemUser.update_password">
        <code class="descname">update_password</code><span class="sig-paren">(</span><em>passwd</em><span class="sig-paren">)</span></dt>
        <dd><p>Set password.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>passwd</strong> (<em>str</em>) &#8211; password to set</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </dd></dl>

        <dl class="class">
        <dt id="arkos.system.users.User">
        <em class="property">class </em><code class="descclassname">arkos.system.users.</code><code class="descname">User</code><span class="sig-paren">(</span><em>name=''</em>, <em>first_name=''</em>, <em>last_name=None</em>, <em>uid=0</em>, <em>domain=''</em>, <em>rootdn='dc=arkos-servers</em>, <em>dc=org'</em>, <em>mail=[]</em>, <em>admin=False</em>, <em>sudo=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Class for managing arkOS users in LDAP.</p>
        <dl class="method">
        <dt id="arkos.system.users.User.add">
        <code class="descname">add</code><span class="sig-paren">(</span><em>passwd</em><span class="sig-paren">)</span></dt>
        <dd><p>Add the user to LDAP.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>passwd</strong> (<em>str</em>) &#8211; user password to set</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.users.User.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return user metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.users.User.delete">
        <code class="descname">delete</code><span class="sig-paren">(</span><em>delete_home=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Delete user.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>delete_home</strong> (<em>bool</em>) &#8211; Delete the user&#8217;s home directory too?</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.users.User.ldap_id">
        <code class="descname">ldap_id</code></dt>
        <dd><p>Fetch LDAP ID.</p>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.system.users.User.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable user metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.users.User.update">
        <code class="descname">update</code><span class="sig-paren">(</span><em>newpasswd=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Update a user&#8217;s object in LDAP. Change params on the object first.</p>
        <p>To change password, do so via the <code class="docutils literal"><span class="pre">newpasswd</span></code> param here.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newpasswd</strong> (<em>str</em>) &#8211; new password to set</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.users.User.update_adminsudo">
        <code class="descname">update_adminsudo</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Update the user&#8217;s admin and sudo group settings in LDAP.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.system.users.User.verify_passwd">
        <code class="descname">verify_passwd</code><span class="sig-paren">(</span><em>passwd</em><span class="sig-paren">)</span></dt>
        <dd><p>Validate the provided password against the hash stored in LDAP.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>passwd</strong> (<em>str</em>) &#8211; password to check</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.users.get">
        <code class="descclassname">arkos.system.users.</code><code class="descname">get</code><span class="sig-paren">(</span><em>uid=None</em>, <em>name=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Get all LDAP users.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; ID of single user to fetch</li>
        <li><strong>name</strong> (<em>str</em>) &#8211; username of single user to fetch</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">User(s)</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">User or list thereof</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.users.get_next_uid">
        <code class="descclassname">arkos.system.users.</code><code class="descname">get_next_uid</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get the next available user ID number in sequence.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.system.users.get_system">
        <code class="descclassname">arkos.system.users.</code><code class="descname">get_system</code><span class="sig-paren">(</span><em>uid=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Get all system users.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; ID of single user to fetch</li>
        <li><strong>name</strong> (<em>str</em>) &#8211; username of single user to fetch</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">SystemUser(s)</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">SystemUser or list thereof</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.tracked_services">
        <span id="arkos-tracked-services"></span><h2>arkos.tracked_services</h2>
        <p>Classes and functions to manage arkOS tracked services.</p>
        <dl class="class">
        <dt id="arkos.tracked_services.SecurityPolicy">
        <em class="property">class </em><code class="descclassname">arkos.tracked_services.</code><code class="descname">SecurityPolicy</code><span class="sig-paren">(</span><em>type=''</em>, <em>id=''</em>, <em>name=''</em>, <em>icon=''</em>, <em>ports=[]</em>, <em>policy=2</em>, <em>addr=None</em><span class="sig-paren">)</span></dt>
        <dd><p>An object representing an arkOS firewall policy for a service.</p>
        <p>SecurityPolicies are created for all websites, as well as for all apps
        that have port-based services registered in their metadata files. They
        are used to compute the proper values to put into the arkOS firewall
        (iptables) on regeneration or app update.</p>
        <dl class="attribute">
        <dt id="arkos.tracked_services.SecurityPolicy.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return policy metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.tracked_services.SecurityPolicy.remove">
        <code class="descname">remove</code><span class="sig-paren">(</span><em>fw=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Remove a security policy from the firewall and config.</p>
        <p>You should probably use <code class="docutils literal"><span class="pre">tracked_services.deregister()</span></code> for this.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fw</strong> (<em>bool</em>) &#8211; Regenerate the firewall after save?</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.tracked_services.SecurityPolicy.save">
        <code class="descname">save</code><span class="sig-paren">(</span><em>fw=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Save changes to a security policy to disk.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fw</strong> (<em>bool</em>) &#8211; Regenerate the firewall after save?</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.tracked_services.SecurityPolicy.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable policy metadata as dict.</p>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.tracked_services.deregister">
        <code class="descclassname">arkos.tracked_services.</code><code class="descname">deregister</code><span class="sig-paren">(</span><em>type</em>, <em>id=''</em>, <em>fw=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Deregister a security policy.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>type</strong> (<em>str</em>) &#8211; Policy type (&#8216;website&#8217;, &#8216;app&#8217;, etc)</li>
        <li><strong>id</strong> (<em>str</em>) &#8211; Website or app ID</li>
        <li><strong>fw</strong> (<em>bool</em>) &#8211; Regenerate the firewall after save?</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.tracked_services.deregister_website">
        <code class="descclassname">arkos.tracked_services.</code><code class="descname">deregister_website</code><span class="sig-paren">(</span><em>site</em><span class="sig-paren">)</span></dt>
        <dd><p>Convenience function to deregister a website as tracked service.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.tracked_services.get">
        <code class="descclassname">arkos.tracked_services.</code><code class="descname">get</code><span class="sig-paren">(</span><em>id=None</em>, <em>type=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Get all security policies from cache storage.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; App or website ID</li>
        <li><strong>type</strong> (<em>str</em>) &#8211; Filter by type (&#8216;website&#8217;, &#8216;app&#8217;, etc)</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.tracked_services.get_open_port">
        <code class="descclassname">arkos.tracked_services.</code><code class="descname">get_open_port</code><span class="sig-paren">(</span><em>ignore_common=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Get a random TCP port not currently in use by a tracked service.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ignore_common</strong> (<em>bool</em>) &#8211; Don&#8217;t exclude commonly used ports?</td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Port number</td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.tracked_services.initialize">
        <code class="descclassname">arkos.tracked_services.</code><code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Initialize security policy tracking.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.tracked_services.is_open_port">
        <code class="descclassname">arkos.tracked_services.</code><code class="descname">is_open_port</code><span class="sig-paren">(</span><em>port</em>, <em>addr=None</em>, <em>ignore_common=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Check if the specified port is taken by a tracked service or not.</p>
        <p>Addresses should be provided for websites, because multiple websites can
        be served from the same port (SNI) as long as the address is different.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>port</strong> (<em>int</em>) &#8211; Port number to check</li>
        <li><strong>addr</strong> (<em>str</em>) &#8211; Address to check (for websites)</li>
        <li><strong>ignore_common</strong> (<em>bool</em>) &#8211; Don&#8217;t return False for commonly used ports?</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if port is open</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Rtype bool:</th><td class="field-body"></td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.tracked_services.refresh_policies">
        <code class="descclassname">arkos.tracked_services.</code><code class="descname">refresh_policies</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Recreate security policies based on what is stored in config.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.tracked_services.register">
        <code class="descclassname">arkos.tracked_services.</code><code class="descname">register</code><span class="sig-paren">(</span><em>type</em>, <em>id</em>, <em>name</em>, <em>icon</em>, <em>ports</em>, <em>addr=None</em>, <em>policy=0</em>, <em>default_policy=2</em>, <em>fw=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Register a new security policy with the system.</p>
        <p>The <code class="docutils literal"><span class="pre">ports</span></code> parameter takes tuples of ports to manage, like so:</p>
        <blockquote>
        <div>ports = [(&#8216;tcp&#8217;, 8000), (&#8216;udp&#8217;, 21500)]</div></blockquote>
        <p>The <code class="docutils literal"><span class="pre">policy</span></code> parameter is an integer with the following meaning:</p>
        <p>0 = Restrict access from all outside hosts. (excludes loopback)
        1 = Restrict access to local networks only.
        2 = Allow access to all networks and ultimately the whole Internet.</p>
        <p>Addresses should be provided for websites, because multiple websites can
        be served from the same port (SNI) as long as the address is different.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>type</strong> (<em>str</em>) &#8211; Policy type (&#8216;website&#8217;, &#8216;app&#8217;, etc)</li>
        <li><strong>id</strong> (<em>str</em>) &#8211; Website or app ID</li>
        <li><strong>name</strong> (<em>str</em>) &#8211; Display name to use in Security settings pane</li>
        <li><strong>icon</strong> (<em>str</em>) &#8211; FontAwesome icon class name</li>
        <li><strong>ports</strong> (<em>list</em>) &#8211; List of port tuples to allow/restrict</li>
        <li><strong>addr</strong> (<em>str</em>) &#8211; Address (for websites)</li>
        <li><strong>policy</strong> (<em>int</em>) &#8211; Policy identifier</li>
        <li><strong>default_policy</strong> (<em>int</em>) &#8211; Application default policy to use on first init</li>
        <li><strong>fw</strong> (<em>bool</em>) &#8211; Regenerate the firewall after save?</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.tracked_services.register_website">
        <code class="descclassname">arkos.tracked_services.</code><code class="descname">register_website</code><span class="sig-paren">(</span><em>site</em><span class="sig-paren">)</span></dt>
        <dd><p>Convenience function to register a website as tracked service.</p>
        </dd></dl>

        </div>
        <div class="section" id="module-arkos.updates">
        <span id="arkos-updates"></span><h2>arkos.updates</h2>
        <p>Functions to manage arkOS push updates.</p>
        <dl class="function">
        <dt id="arkos.updates.check_updates">
        <code class="descclassname">arkos.updates.</code><code class="descname">check_updates</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Check for updates from arkOS repo server.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.updates.install_updates">
        <code class="descclassname">arkos.updates.</code><code class="descname">install_updates</code><span class="sig-paren">(</span><em>message=&lt;arkos.utilities.logs.DefaultMessage object&gt;</em><span class="sig-paren">)</span></dt>
        <dd><p>Install all available updates from arkOS repo server.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<em>message</em>) &#8211; Message object to update with status</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </div>
        <div class="section" id="arkos-utilities">
        <h2>arkos.utilities</h2>
        <span class="target" id="module-arkos.utilities"></span><p>Initializer functions for arkOS utilities.</p>
        <dl class="function">
        <dt id="arkos.utilities.path_to_b64">
        <code class="descclassname">arkos.utilities.</code><code class="descname">path_to_b64</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span></dt>
        <dd><p>Convert a filesystem path to a safe base64-encoded string.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.b64_to_path">
        <code class="descclassname">arkos.utilities.</code><code class="descname">b64_to_path</code><span class="sig-paren">(</span><em>b64</em><span class="sig-paren">)</span></dt>
        <dd><p>Convert a base64-encoded string to regular one (filesystem path).</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.extract">
        <code class="descclassname">arkos.utilities.</code><code class="descname">extract</code><span class="sig-paren">(</span><em>pin</em>, <em>pout</em>, <em>delete=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Extract an archive.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>pin</strong> (<em>str</em>) &#8211; path to archive</li>
        <li><strong>pout</strong> (<em>str</em>) &#8211; path to output</li>
        <li><strong>delete</strong> (<em>bool</em>) &#8211; delete archive on completion</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.compress">
        <code class="descclassname">arkos.utilities.</code><code class="descname">compress</code><span class="sig-paren">(</span><em>pin</em>, <em>pout=''</em>, <em>format='tgz'</em><span class="sig-paren">)</span></dt>
        <dd><p>Recursively compress a provided directory.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>pin</strong> (<em>str</em>) &#8211; path to directory to compress</li>
        <li><strong>pout</strong> (<em>str</em>) &#8211; full path to save archive to</li>
        <li><strong>format</strong> (<em>str</em>) &#8211; &#8220;tgz&#8221; or &#8220;zip&#8221;</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.cidr_to_netmask">
        <code class="descclassname">arkos.utilities.</code><code class="descname">cidr_to_netmask</code><span class="sig-paren">(</span><em>cidr</em><span class="sig-paren">)</span></dt>
        <dd><p>Convert a CIDR prefix to an IP subnet mask.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.netmask_to_cidr">
        <code class="descclassname">arkos.utilities.</code><code class="descname">netmask_to_cidr</code><span class="sig-paren">(</span><em>mask</em><span class="sig-paren">)</span></dt>
        <dd><p>Convert an IP subnet mask to CIDR prefix.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.download">
        <code class="descclassname">arkos.utilities.</code><code class="descname">download</code><span class="sig-paren">(</span><em>url</em>, <em>file=None</em>, <em>crit=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Download a file from the specified address, optionally saving to file.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>url</strong> (<em>str</em>) &#8211; URL to download</li>
        <li><strong>file</strong> (<em>str</em>) &#8211; path of output file to save, or None to return contents</li>
        <li><strong>crit</strong> (<em>bool</em>) &#8211; raise exceptions on all failures</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.get_current_entropy">
        <code class="descclassname">arkos.utilities.</code><code class="descname">get_current_entropy</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Get the current amount of available entropy from the kernel.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.random_string">
        <code class="descclassname">arkos.utilities.</code><code class="descname">random_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Create a random alphanumeric string.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.api">
        <code class="descclassname">arkos.utilities.</code><code class="descname">api</code><span class="sig-paren">(</span><em>url</em>, <em>post=None</em>, <em>method='get'</em>, <em>returns='json'</em>, <em>headers=[]</em>, <em>crit=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Multipurpose function to send/receive data from an Internet address.</p>
        <p>Default use returns a dictionary from a JSON API.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>url</strong> (<em>str</em>) &#8211; URL to contact</li>
        <li><strong>post</strong> (<em>str/dict</em>) &#8211; data to POST</li>
        <li><strong>method</strong> &#8211; HTTP method</li>
        <li><strong>returns</strong> (<em>str</em>) &#8211; &#8220;JSON&#8221; or &#8220;raw&#8221;</li>
        <li><strong>headers</strong> (<em>list</em>) &#8211; tuples of header name and values</li>
        <li><strong>crit</strong> (<em>bool</em>) &#8211; raise exception on all errors</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">data as specified</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.shell">
        <code class="descclassname">arkos.utilities.</code><code class="descname">shell</code><span class="sig-paren">(</span><em>c</em>, <em>stdin=None</em>, <em>env={}</em><span class="sig-paren">)</span></dt>
        <dd><p>Simplified wrapper for shell calls to subprocess.Popen().</p>
        <p>Returns a dict with <code class="docutils literal"><span class="pre">code</span></code>, <code class="docutils literal"><span class="pre">stdout</span></code> and <code class="docutils literal"><span class="pre">stderr</span></code> keys.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>c</strong> (<em>str</em>) &#8211; command string</li>
        <li><strong>stdin</strong> (<em>str</em>) &#8211; data to feed to stdin, or None</li>
        <li><strong>env</strong> (<em>dict</em>) &#8211; dict of environment variables</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.hashpw">
        <code class="descclassname">arkos.utilities.</code><code class="descname">hashpw</code><span class="sig-paren">(</span><em>passw</em>, <em>scheme='sha512_crypt'</em><span class="sig-paren">)</span></dt>
        <dd><p>Create a password hash.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.can_be_int">
        <code class="descclassname">arkos.utilities.</code><code class="descname">can_be_int</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span></dt>
        <dd><p>Return True if the input can be an integer.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.str_fsize">
        <code class="descclassname">arkos.utilities.</code><code class="descname">str_fsize</code><span class="sig-paren">(</span><em>sz</em><span class="sig-paren">)</span></dt>
        <dd><p>Format a size int/float to the most appropriate string.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.str_fperms">
        <code class="descclassname">arkos.utilities.</code><code class="descname">str_fperms</code><span class="sig-paren">(</span><em>mode</em><span class="sig-paren">)</span></dt>
        <dd><p>Produce a Unix-style permissions string (rwxrwxrwx).</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.detect_architecture">
        <code class="descclassname">arkos.utilities.</code><code class="descname">detect_architecture</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Detect system architecture and board type.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.detect_platform">
        <code class="descclassname">arkos.utilities.</code><code class="descname">detect_platform</code><span class="sig-paren">(</span><em>mapping=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Detect distro platform.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.utilities.new_logger">
        <code class="descclassname">arkos.utilities.</code><code class="descname">new_logger</code><span class="sig-paren">(</span><em>log_level=20</em>, <em>debug=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Create a new logger.</p>
        </dd></dl>

        <dl class="class">
        <dt id="arkos.utilities.DefaultMessage">
        <em class="property">class </em><code class="descclassname">arkos.utilities.</code><code class="descname">DefaultMessage</code><span class="sig-paren">(</span><em>cls=''</em>, <em>msg=''</em>, <em>head=''</em><span class="sig-paren">)</span></dt>
        <dd><p>The default engine for providing status messages for long tasks.</p>
        <dl class="method">
        <dt id="arkos.utilities.DefaultMessage.complete">
        <code class="descname">complete</code><span class="sig-paren">(</span><em>cls</em>, <em>msg</em>, <em>head=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Send message completion.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.utilities.DefaultMessage.update">
        <code class="descname">update</code><span class="sig-paren">(</span><em>cls</em>, <em>msg</em>, <em>head=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Send message update.</p>
        </dd></dl>

        </dd></dl>

        </div>
        <div class="section" id="module-arkos.websites">
        <span id="arkos-websites"></span><h2>arkos.websites</h2>
        <p>Classes and functions to manage websites installed in arkOS.</p>
        <dl class="class">
        <dt id="arkos.websites.ReverseProxy">
        <em class="property">class </em><code class="descclassname">arkos.websites.</code><code class="descname">ReverseProxy</code><span class="sig-paren">(</span><em>id=''</em>, <em>name=''</em>, <em>path=''</em>, <em>addr=''</em>, <em>port=80</em>, <em>base_path=''</em>, <em>block=[]</em>, <em>type='internal'</em><span class="sig-paren">)</span></dt>
        <dd><p>A subclass of Site for reverse proxies.</p>
        <p>Has properties and methods particular to a reverse proxy, used to relay
        HTTP access to certain types of arkOS apps.</p>
        <dl class="attribute">
        <dt id="arkos.websites.ReverseProxy.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return reverse proxy metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.websites.ReverseProxy.install">
        <code class="descname">install</code><span class="sig-paren">(</span><em>extra_vars={}</em>, <em>enable=True</em>, <em>message=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Install reverse proxy, including prep and app recipes.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
        <li><strong>extra_vars</strong> (<em>dict</em>) &#8211; Extra form variables as provided by app</li>
        <li><strong>enable</strong> (<em>bool</em>) &#8211; Enable the site in nginx on install?</li>
        <li><strong>message</strong> (<em>message</em>) &#8211; Message object to update with status</li>
        </ul>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.websites.ReverseProxy.remove">
        <code class="descname">remove</code><span class="sig-paren">(</span><em>message=None</em><span class="sig-paren">)</span></dt>
        <dd><p>Remove reverse proxy, including prep and app recipes.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<em>message</em>) &#8211; Message object to update with status</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.websites.ReverseProxy.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable reverse proxy metadata as dict.</p>
        </dd></dl>

        </dd></dl>

        <dl class="class">
        <dt id="arkos.websites.Site">
        <em class="property">class </em><code class="descclassname">arkos.websites.</code><code class="descname">Site</code><span class="sig-paren">(</span><em>id=''</em>, <em>addr=''</em>, <em>port=80</em>, <em>path=''</em>, <em>php=False</em>, <em>version=''</em>, <em>cert=None</em>, <em>db=None</em>, <em>data_path=''</em>, <em>block=[]</em>, <em>enabled=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Class representing a Website object.</p>
        <dl class="attribute">
        <dt id="arkos.websites.Site.as_dict">
        <code class="descname">as_dict</code></dt>
        <dd><p>Return site metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.websites.Site.edit">
        <code class="descname">edit</code><span class="sig-paren">(</span><em>newname=''</em><span class="sig-paren">)</span></dt>
        <dd><p>Edit website properties and save accordingly.</p>
        <p>To change properties, set them on the object before running. Name
        changes must be done through the parameter here and NOT on the object.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newname</strong> (<em>str</em>) &#8211; Name to change the site name to</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.websites.Site.install">
        <code class="descname">install</code><span class="sig-paren">(</span><em>meta</em>, <em>extra_vars={}</em>, <em>enable=True</em>, <em>message=&lt;arkos.utilities.logs.DefaultMessage object&gt;</em><span class="sig-paren">)</span></dt>
        <dd><p>Install site, including prep and app recipes.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>meta</strong> (<em>Application</em>) &#8211; Application metadata</li>
        <li><strong>extra_vars</strong> (<em>dict</em>) &#8211; Extra form variables as provided by client</li>
        <li><strong>enable</strong> (<em>bool</em>) &#8211; Enable the site in nginx on install?</li>
        <li><strong>message</strong> (<em>message</em>) &#8211; Message object to update with status</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">special message to the user from app post-install hook (opt)</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.websites.Site.nginx_disable">
        <code class="descname">nginx_disable</code><span class="sig-paren">(</span><em>reload=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Disable this website in nginx.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reload</strong> (<em>bool</em>) &#8211; Reload nginx on finish?</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.websites.Site.nginx_enable">
        <code class="descname">nginx_enable</code><span class="sig-paren">(</span><em>reload=True</em><span class="sig-paren">)</span></dt>
        <dd><p>Enable this website in nginx.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reload</strong> (<em>bool</em>) &#8211; Reload nginx on finish?</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.websites.Site.remove">
        <code class="descname">remove</code><span class="sig-paren">(</span><em>message=&lt;arkos.utilities.logs.DefaultMessage object&gt;</em><span class="sig-paren">)</span></dt>
        <dd><p>Remove website, including prep and app recipes.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<em>message</em>) &#8211; Message object to update with status</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="attribute">
        <dt id="arkos.websites.Site.serialized">
        <code class="descname">serialized</code></dt>
        <dd><p>Return serializable site metadata as dict.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.websites.Site.ssl_disable">
        <code class="descname">ssl_disable</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Remove a TLS certificate from this site.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.websites.Site.ssl_enable">
        <code class="descname">ssl_enable</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Assign a TLS certificate to this site.</p>
        </dd></dl>

        <dl class="method">
        <dt id="arkos.websites.Site.update">
        <code class="descname">update</code><span class="sig-paren">(</span><em>message=&lt;arkos.utilities.logs.DefaultMessage object&gt;</em><span class="sig-paren">)</span></dt>
        <dd><p>Run an update on this website.</p>
        <p>Pulls update data from arkOS app package and metadata, and uses it to
        update this particular website instance to the latest version.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<em>message</em>) &#8211; Message object to update with status</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        </dd></dl>

        <dl class="function">
        <dt id="arkos.websites.get">
        <code class="descclassname">arkos.websites.</code><code class="descname">get</code><span class="sig-paren">(</span><em>id=None</em>, <em>type=None</em>, <em>force=False</em><span class="sig-paren">)</span></dt>
        <dd><p>Retrieve website data from the system.</p>
        <p>If the cache is up and populated, websites are loaded from metadata stored
        there. If not (or <code class="docutils literal"><span class="pre">force</span></code> is set), the app directory is searched, modules
        are loaded and verified. This is used on first boot.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
        <li><strong>id</strong> (<em>str</em>) &#8211; If present, obtain one site that matches this ID</li>
        <li><strong>type</strong> (<em>str</em>) &#8211; Filter by <code class="docutils literal"><span class="pre">website</span></code>, <code class="docutils literal"><span class="pre">reverseproxy</span></code>, etc</li>
        <li><strong>force</strong> (<em>bool</em>) &#8211; Force a rescan (do not rely on cache)</li>
        </ul>
        </td>
        </tr>
        <tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Website(s)</p>
        </td>
        </tr>
        <tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Website or list thereof</p>
        </td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.websites.nginx_reload">
        <code class="descclassname">arkos.websites.</code><code class="descname">nginx_reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Reload nginx process.</p>
        <table class="docutils field-list" frame="void" rules="none">
        <col class="field-name" />
        <col class="field-body" />
        <tbody valign="top">
        <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if successful.</td>
        </tr>
        </tbody>
        </table>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.websites.php_reload">
        <code class="descclassname">arkos.websites.</code><code class="descname">php_reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Reload PHP-FPM process.</p>
        </dd></dl>

        <dl class="function">
        <dt id="arkos.websites.scan">
        <code class="descclassname">arkos.websites.</code><code class="descname">scan</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
        <dd><p>Search website directories for sites, load them and store metadata.</p>
        </dd></dl>

        </div>
        </div>
    <div>
  </div>
</div>

<script>
    $('body').scrollspy({
        target: '.docs-sidebar',
        offset: 40
    });
</script>
